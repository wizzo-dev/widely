(()=>{"use strict";var e={5315:(e,t,n)=>{n(6992),n(8674),n(9601),n(7727);var i=n(5010),r=n(3396),o={key:0},a={key:1,id:"wave_animation_wrapper"},s=(0,r._)("div",{id:"wave_animation"},[(0,r._)("span"),(0,r._)("span"),(0,r._)("span"),(0,r._)("span"),(0,r._)("span")],-1),u=[s];function l(e,t,n,i,s,l){var d=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)(r.HY,null,[s.loaded?((0,r.wg)(),(0,r.iD)("div",o,[(0,r.Wm)(d)])):(0,r.kq)("",!0),e.$store.state.isLoading?((0,r.wg)(),(0,r.iD)("div",a,u)):(0,r.kq)("",!0)],64)}const d={data:function(){return{words:[],loaded:!1}},mounted:function(){var e=this;this.$store.commit("setIsLoading",{isLoading:!0}),this.api({action:"general",method:"get"},(function(t){localStorage.setItem("user_token",t.data.cookie);var n=t.data.words;e.$store.commit("setWords",{words:n}),e.$store.commit("setIsLoading",{isLoading:!1}),e.loaded=!0}))}};var c=n(89);const m=(0,c.Z)(d,[["render",l]]),p=m;n(2222),n(4916),n(5306),n(6647),n(3710),n(1539),n(9714),n(2564),n(2772),n(5212),n(4723);var _={computed:{isApp:function(){return!this.isNull(window.cordova)&&0!=window.cordova}},methods:{alert:function(e,t,n,i){this.$swal.fire({html:e,cancelButtonText:"אישור",confirmButtonText:'<a href="'.concat(t,'">').concat(n,"</a>"),customClass:{container:i}})},bg:function(e){return"background-image:url("+e+")"},get_word:function(e){return this.$store.words[e]},save_item_to_store:function(e){if(!this.isNull(e))switch(e.type){case"video":this.$store.state.videos[e.id]=e;break;case"article":this.$store.state.articles[e.id]=e;break;case"faq":this.$store.state.faq[e.id]=e;break}},format_number:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},isNull:function(e){return""==e||null==e||void 0==e},parse_date:function(e){var t=new Date(e);return t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()},get_me:function(){return this.$store.user},is_subscribed:function(){return this.get_me()&&this.get_me().is_subscribed},set_user_token:function(e){localStorage.setItem("user_token",e);var t=new Date;t.setMonth(t.getMonth()+12);var n="app_user",i=""==e?"0":"1";document.cookie=n+"="+i+";expires="+t+";domain=.nadlancenter;path=/"},activateInfo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.$swal({icon:"info",title:e,showDenyButton:!0,showCancelButton:!1,confirmButtonText:"הפעלה ממספר אחר",denyButtonText:"חזרה לדף הבית",customClass:{container:t}})},activatePromptExit:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";this.$swal({icon:t,text:e,showCloseButton:!1,showCancelButton:!1,allowOutsideClick:!1,showConfirmButton:!0,confirmButtonText:"אוקיי"}).then((function(){document.location="/"}))},activateSuccess:function(e){this.$swal({icon:"success",text:e,showCloseButton:!0,showCancelButton:!1,showConfirmButton:!1})},activateError:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.$swal({icon:"error",text:e,showCloseButton:!0,showCancelButton:!1,showConfirmButton:!1,customClass:{container:t}})},debounce:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];clearTimeout(t),t=setTimeout((function(){e.apply(n,o)}),i)}},get_item:function(e,t,n){var i=this,r=new Promise((function(r){null!=i.$store.state[t][n]?r(i.$store.state[t][i.id]):i.api({action:e,data:{id:n},method:"get"},(function(e){i.save_item_to_store(e.data),r(e.data)}))}));return r},api:function(e,t,n){var i=this;this.isNull(t)&&(t=function(){});var r={"Content-Type":"application/json; charset=utf-8"};this.isNull(localStorage.getItem("user_token"))||(r.Authorization=localStorage.getItem("user_token"));var o=this.axios.CancelToken.source();if("get"==e.method){var a=e.action;if(a+=-1===a.indexOf("?")?"?":"&",a=a+"ts="+(new Date).getHours()+"_"+((new Date).getMinutes()<30?"0":"30"),!this.isNull(e.data))for(var s in e.data)a+="&"+s+"="+e.data[s];this.axios.get(window.api_url+a,{headers:r,cancelToken:o.token}).then((function(e){"error"==e.data&&(i.set_user_token(""),document.location.reload()),t(e.data)}),(function(e){i.isNull(n)?t(!1):n(e)}))}else this.axios.post(window.api_url+e.action,e.data,{headers:r,cancelToken:o.token}).then((function(e){"error"==e.data&&(i.set_user_token(""),document.location.reload()),t(e.data)}),(function(e){i.isNull(n)||n(e)}));return o},isMobile:function(){var e=[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i];return e.some((function(e){return navigator.userAgent.match(e)}))}}};const f=_;var h=n(2483),v=n(7139),b={id:"join_us"},w={class:"wrapper"},g={class:"forms"},y={key:0,class:"steps"},L=(0,r._)("div",{class:"checkbox"},null,-1),k=[L],M={class:"cart_title bold hide_on_close"},T={class:"hide_on_close"},I={class:"options"},H=["onClick"],N={key:1,class:"trash"},C={key:2},S={key:0,class:"small_title bold"},q=["onClick"],x={class:"small_title"},$={class:"small_title bold add_ils"},D={class:"flex hide_on_close"},U={class:"small_title bold"},O={class:"total_sub main_color bold"},z={key:0,class:"deleted_price add_ils"},V={class:"add_ils"},P={id:"form"},j=(0,r._)("div",{id:"white_logo"},null,-1),A=[j];function E(e,t,n,i,o,a){var s=(0,r.up)("font-awesome-icon"),u=(0,r.up)("routerLink"),l=(0,r.up)("FirstStep"),d=(0,r.up)("SecondStep"),c=(0,r.up)("ThirdStep"),m=(0,r.up)("FourthStep"),p=(0,r.up)("FifthStep"),_=(0,r.up)("SendOtp"),f=(0,r.up)("ValidateOtpWithId");return(0,r.wg)(),(0,r.iD)("div",b,[(0,r._)("div",w,[(0,r._)("div",g,[o.step>0?((0,r.wg)(),(0,r.iD)("div",y,[e.isMobile()?((0,r.wg)(),(0,r.iD)("div",{key:0,style:(0,v.j5)("width:"+20*o.step+"%"),id:"border"},null,4)):((0,r.wg)(),(0,r.iD)("div",{key:1,id:"border",style:(0,v.j5)("height:"+20*o.step+"%")},null,4)),(0,r._)("ul",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.numberOfSteps,(function(e){return(0,r.wg)(),(0,r.iD)("li",{class:(0,v.C_)("step "+(o.step>=e?"active":"")),key:e},k,2)})),128))])])):(0,r.kq)("",!0),(0,r._)("div",{id:"cart",class:(0,v.C_)(o.cartOpen?"open":"close")},[e.isMobile()?((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[(0,r._)("div",{class:"cart",onClick:t[0]||(t[0]=function(e){return o.cartOpen=!0})},[(0,r.Wm)(s,{icon:"fa fa-shopping-cart"})]),(0,r._)("div",{class:"close",onClick:t[1]||(t[1]=function(e){return o.cartOpen=!o.cartOpen})},[(0,r.Wm)(s,{icon:"fa fa-times"})])],64)):(0,r.kq)("",!0),(0,r._)("div",M,(0,v.zw)(a.words.cart_title),1),(0,r._)("ul",T,[o.numbersInfo?((0,r.wg)(!0),(0,r.iD)(r.HY,{key:0},(0,r.Ko)(o.numbersInfo,(function(e){return(0,r.wg)(),(0,r.iD)("li",{key:e.id,class:"active"},[(0,r._)("div",I,[o.numbersInfo.length>1?((0,r.wg)(),(0,r.iD)("div",{key:0,class:"trash",onClick:function(t){return a.removeNumber(e)}},[(0,r.Wm)(s,{icon:"fa fa-trash-alt"})],8,H)):((0,r.wg)(),(0,r.iD)("div",N)),e.phone_number.length>3?((0,r.wg)(),(0,r.iD)("div",C,[e.phone_number.length<12?((0,r.wg)(),(0,r.iD)("div",S,[(0,r.Uk)((0,v.zw)(e.phone_number)+" ",1),(0,r._)("a",{class:"change_number semi_bold",onClick:function(t){return a.changeNumber(e)}},(0,v.zw)(a.words.change_number),9,q)])):(0,r.kq)("",!0),(0,r._)("div",x,(0,v.zw)(e.has_number?"מספר קיים":"מספר חדש"),1)])):(0,r.kq)("",!0),(0,r._)("div",$,(0,v.zw)(e.total_price),1)])])})),128)):(0,r.kq)("",!0)]),(0,r._)("div",D,[(0,r._)("div",U,(0,v.zw)(a.words.total),1),(0,r._)("div",O,[o.total<o.deletedPrice?((0,r.wg)(),(0,r.iD)("span",z,(0,v.zw)(o.deletedPrice),1)):(0,r.kq)("",!0),(0,r._)("span",V,(0,v.zw)(o.total),1),(0,r.Uk)(" "+(0,v.zw)(a.words.to_month),1)])])],2),(0,r._)("div",P,[(0,r.Wm)(u,{to:"/",class:"clean_link go_back_home"},{default:(0,r.w5)((function(){return[(0,r.Uk)((0,v.zw)(e.$store.state.words.go_back_home),1)]})),_:1}),1===o.step?((0,r.wg)(),(0,r.j4)(l,{key:0,onLoadData:a.loadData,onReturnStep:t[2]||(t[2]=function(e){return o.step--}),onSetActiveNumber:a.setActiveNumber,onToggleProd:a.toggleProd,numbers_overseas_info:o.numbers_overseas_info,numbersInfo:o.numbersInfo,step:o.step,numbersUs:o.numbersUs,numbers:o.numbers,onAddNewNumber:a.addNewNumber,onAddUsNumber:a.addUsNumber,onGetNumbers:a.getNumbers,onNumbersValidation:a.numbersValidation,activeNumber:+o.activeNumber},null,8,["onLoadData","onSetActiveNumber","onToggleProd","numbers_overseas_info","numbersInfo","step","numbersUs","numbers","onAddNewNumber","onAddUsNumber","onGetNumbers","onNumbersValidation","activeNumber"])):(0,r.kq)("",!0),2===o.step?((0,r.wg)(),(0,r.j4)(d,{key:1,onReturnStep:t[3]||(t[3]=function(e){return o.step--}),numbersInfo:o.numbersInfo,parentForm:o.form,step:o.step,numbers:o.numbers,onSaveData:a.saveCartData},null,8,["numbersInfo","parentForm","step","numbers","onSaveData"])):(0,r.kq)("",!0),3===o.step?((0,r.wg)(),(0,r.j4)(c,{key:2,onReturnStep:t[4]||(t[4]=function(e){return o.step--}),numbersInfo:o.numbersInfo,parentForm:o.form,step:o.step,numbers:o.numbers,onSaveData:a.saveCartData},null,8,["numbersInfo","parentForm","step","numbers","onSaveData"])):(0,r.kq)("",!0),4===o.step?((0,r.wg)(),(0,r.j4)(m,{key:3,skipPay:o.skipPay,onGoToStep:a.goToStep,email:o.form.email||"",phone:o.form.phone_number||"",onReturnStep:t[5]||(t[5]=function(e){return o.step--}),numbersInfo:o.numbersInfo,step:o.step,numbers:o.numbers,onSaveData:a.saveCartData},null,8,["skipPay","onGoToStep","email","phone","numbersInfo","step","numbers","onSaveData"])):(0,r.kq)("",!0),5===o.step?((0,r.wg)(),(0,r.j4)(p,{key:4,skipPay:o.skipPay,onGoToStep:a.goToStep,onReturnStep:t[6]||(t[6]=function(e){return o.step--}),numbersInfo:o.numbersInfo,step:o.step,numbers:o.numbers,onSaveData:a.saveCartData},null,8,["skipPay","onGoToStep","numbersInfo","step","numbers","onSaveData"])):(0,r.kq)("",!0),7===o.step?((0,r.wg)(),(0,r.j4)(_,{key:5,phoneNumber:o.form.phone_number,onSuccess:t[7]||(t[7]=function(e){return o.step=8})},null,8,["phoneNumber"])):(0,r.kq)("",!0),8===o.step?((0,r.wg)(),(0,r.j4)(f,{key:6,idCard:o.form.id_card,phoneNumber:o.form.phone_number,onSuccess:t[8]||(t[8]=function(e){o.step=4,o.otpValidate=!0})},null,8,["idCard","phoneNumber"])):(0,r.kq)("",!0)])])]),(0,r._)("div",{id:"back_image",style:(0,v.j5)("background-image:url(".concat(a.bgImg,")"))},A,4)])}var B=n(5082),F=n(124),Z=n(8534),W=(n(8309),n(2526),n(1817),{class:"form"}),G={class:"step_title"},Y=["innerHTML"],Q=["innerHTML"],R={id:"numbers_wrapper"},K=["innerHTML"],J={class:"options"},X=["innerHTML"],ee=["innerHTML"],te={key:1},ne={class:"form-item"},ie=["title"],re=["innerHTML"],oe={key:2,id:"choose_number"},ae={key:0,class:"options"},se=["onClick"],ue=["innerHTML"],le={class:"prods_wrapper"},de={class:"checkbox"},ce={class:"container_check"},me=["onUpdate:modelValue","onInput"],pe=(0,r._)("span",{class:"checkmark"},null,-1),_e={class:"content"},fe={class:"title_prod bold"},he=["innerHTML"],ve=["innerHTML"],be=["innerHTML"],we={class:"checkbox"},ge={class:"container_check"},ye=(0,r._)("span",{class:"checkmark"},null,-1),Le={class:"content"},ke={class:"title_prod bold"},Me=["innerHTML"],Te=["innerHTML"],Ie=["innerHTML"],He={class:"btn_wrapper"},Ne=["innerHTML"],Ce={class:"paging"},Se=["onClick"],qe=["innerHTML"];function xe(e,t,n,o,a,s){var u=(0,r.up)("font-awesome-icon");return(0,r.wg)(),(0,r.iD)("div",W,[(0,r._)("div",G,(0,v.zw)(s.words.step)+" "+(0,v.zw)(n.step),1),(0,r._)("h2",{class:"title",innerHTML:s.words.choose_number},null,8,Y),(0,r._)("h3",{class:"sec_title_step",innerHTML:s.words.first_step_sec_title},null,8,Q),(0,r._)("div",R,[(0,r._)("div",{class:(0,v.C_)(["number_wrapper",{alert:s.activeItem.alert}]),onClick:t[7]||(t[7]=function(e){return s.activeItem.alert?s.activeItem.alert=!1:""})},[n.numbersInfo.length>1?((0,r.wg)(),(0,r.iD)("div",{key:0,class:"trash",onClick:t[0]||(t[0]=function(e){return s.removeNumber(s.activeItem)})},[(0,r.Wm)(u,{icon:"fa fa-trash-alt"})])):(0,r.kq)("",!0),(0,r._)("div",{class:"pack_num",innerHTML:s.activeIndex},null,8,K),(0,r._)("div",J,[(0,r._)("a",{class:(0,v.C_)("tab "+("1"==s.activeItem.has_number?"active":"")),onClick:t[1]||(t[1]=function(e){return s.changeHasNum(s.activeItem,!0)}),innerHTML:s.words.has_number},null,10,X),(0,r._)("a",{class:(0,v.C_)("tab "+(0==s.activeItem.has_number?"active":"")),onClick:t[2]||(t[2]=function(e){return s.changeHasNum(s.activeItem,!1)}),innerHTML:s.words.dont_has_number},null,10,ee)]),s.activeItem.has_number?((0,r.wg)(),(0,r.iD)("form",te,[(0,r._)("div",ne,[(0,r._)("div",{class:"flag",title:s.words.change_country},null,8,ie),(0,r.wy)((0,r._)("input",{inputmode:"numeric",oninput:"javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",maxlength:"13",type:"text",id:"phone_number","onUpdate:modelValue":t[3]||(t[3]=function(e){return s.activeItem.phone_number=e}),autocomplete:"off",required:""},null,512),[[i.nr,s.activeItem.phone_number]]),(0,r._)("label",{for:"phone_number",innerHTML:s.words.my_number_is},null,8,re)])])):((0,r.wg)(),(0,r.iD)("form",oe,[n.numbers&&n.numbers.length>0?((0,r.wg)(),(0,r.iD)("div",ae,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.numbers,(function(e,t){return(0,r.wg)(),(0,r.iD)("a",{key:t,onClick:function(t){return s.setActiveNumber(e)},class:(0,v.C_)("number "+(e.number==s.activeItem.phone_number?"active":""))},(0,v.zw)(e.number),11,se)})),128)),(0,r._)("a",{class:"chose_number",onClick:t[4]||(t[4]=function(e){return s.getNumbers()}),innerHTML:s.words.mix_numbers},null,8,ue)])):(0,r.kq)("",!0)])),(0,r._)("div",le,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.activeItem.products,(function(e,t){return(0,r.wg)(),(0,r.iD)("div",{class:"prod",key:t},[(0,r._)("div",de,[(0,r._)("label",ce,[(0,r.wy)((0,r._)("input",{type:"checkbox","onUpdate:modelValue":function(t){return e.active=t},onInput:function(t){return s.toggleProduct(s.activeItem,e)}},null,40,me),[[i.e8,e.active]]),pe])]),(0,r._)("div",_e,[(0,r._)("div",fe,[(0,r.Uk)((0,v.zw)(e.name)+" ",1),e.price>0?((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[(0,r.Uk)(" / "),(0,r._)("span",{class:"semi_bold add_ils",innerHTML:e.price},null,8,he),(0,r._)("span",{class:"deleted_price add_ils",innerHTML:e.deleted_price},null,8,ve)],64)):(0,r.kq)("",!0)]),(0,r._)("div",{class:"sub_title semi_bold",innerHTML:e.description},null,8,be)])])})),128)),n.numbersUs.length>0&&n.numbers_overseas_info?((0,r.wg)(!0),(0,r.iD)(r.HY,{key:0},(0,r.Ko)(n.numbers_overseas_info,(function(e,n){return(0,r.wg)(),(0,r.iD)("div",{class:"prod",key:n},[(0,r._)("div",we,[(0,r._)("label",ge,[(0,r.wy)((0,r._)("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=function(e){return s.activeItem.isUsNumber=e}),onInput:t[6]||(t[6]=function(e){return s.addUsNumber()})},null,544),[[i.e8,s.activeItem.isUsNumber]]),ye])]),(0,r._)("div",Le,[(0,r._)("div",ke,[(0,r.Uk)((0,v.zw)(e.title)+" / ",1),(0,r._)("span",{class:"semi_bold add_ils",innerHTML:e.price},null,8,Me),(0,r._)("span",{class:"deleted_price add_ils",innerHTML:e.deleted_price},null,8,Te)]),(0,r._)("div",{class:"sub_title semi_bold",innerHTML:e.description},null,8,Ie)])])})),128)):(0,r.kq)("",!0)])],2)]),(0,r._)("div",He,[n.numbersInfo.length<5?((0,r.wg)(),(0,r.iD)("a",{key:0,class:"btn dashed",onClick:t[8]||(t[8]=function(e){return s.addNumber(!0)}),tabindex:"0",innerHTML:s.words.add_new_number},null,8,Ne)):(0,r.kq)("",!0),(0,r._)("div",Ce,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.numbersInfo,(function(e,t){return(0,r.wg)(),(0,r.iD)("a",{key:t,class:(0,v.C_)([{active:e.id==s.activeItem.id},"item_page"]),onClick:function(t){return s.setActiveNumberById(e.id)}},(0,v.zw)(t+1),11,Se)})),128))]),(0,r._)("a",{class:"btn",onClick:t[9]||(t[9]=function(e){return s.numbersValidation(!0)}),tabindex:"0",innerHTML:s.words.procced},null,8,qe)])])}n(9653),n(1249);const $e={props:{numbersInfo:{required:!0,type:Array},activeNumber:{required:!0,type:Number},step:{required:!0,type:Number},numbers:{required:!0,type:Array},numbers_overseas_info:{required:!0,type:Array},numbersUs:{required:!0,type:Array}},computed:{words:function(){return this.$store.state.words},activeItem:function(){var e={};for(var t in this.numbersInfo)this.numbersInfo[t].id==this.activeNumber&&(e=this.numbersInfo[t]);return e.products&&(e.products=e.products.map((function(e){return e.active=!!e.active,e}))),e},activeIndex:function(){var e=0;for(var t in this.numbersInfo)if(e++,this.numbersInfo[t].id==this.activeNumber)return e;return e}},methods:{setActiveNumber:function(e){this.numbersValidation(),this.activeItem.phone_number=e.number},setActiveNumberById:function(e){this.$emit("setActiveNumber",e)},numbersValidation:function(e){this.$emit("numbersValidation",e)},toggleProduct:function(e,t){this.$emit("toggleProd",e,t)},addUsNumber:function(){this.$emit("addUsNumber",this.activeItem)},removeNumber:function(e){var t=this;this.api({action:"cart/remove_number",data:{phone_number:e.phone_number,id:e.id}},(function(){t.$emit("loadData",!1,!0)}))},changeHasNum:function(e,t){e.has_number=t,this.activeItem.phone_number="",this.api({action:"cart/change_has_num",data:{id:e.id,status:t}})},getNumbers:function(){this.$emit("getNumbers")},addNumber:function(){var e=this;this.api({action:"cart/numbers_validation",data:{numbers_array:this.numbersInfo}},(function(t){if(t.data.error&&""!=t.data.error)e.activateError(t.data.error);else if(t.data.id_false>0&&!t.data.status)for(var n in e.numbersInfo)e.numbersInfo[n].id==t.data.id_false&&(e.setActiveNumberById(e.numbersInfo[n].id),e.activeItem.alert=!0);else e.$emit("addNewNumber")}))}}},De=(0,c.Z)($e,[["render",xe]]),Ue=De;var Oe={class:"form"},ze={class:"step_title"},Ve=["innerHTML"],Pe=["innerHTML"],je={class:"form-item"},Ae=["innerHTML"],Ee=["innerHTML"],Be={class:"options"},Fe={class:"form-item"},Ze=["innerHTML"],We={class:"form-item"},Ge=["innerHTML"],Ye=["innerHTML"],Qe={class:"form-item"},Re=["innerHTML"],Ke={class:"form-item"},Je=["innerHTML"],Xe={class:"btn_wrapper"},et=["innerHTML"],tt=["value"];function nt(e,t,n,o,a,s){return(0,r.wg)(),(0,r.iD)("div",Oe,[(0,r._)("div",ze,(0,v.zw)(s.words.step)+" "+(0,v.zw)(n.step),1),(0,r._)("h2",{class:"title",innerHTML:s.words.nice_to_meet_you},null,8,Ve),(0,r._)("form",{class:"form_steps",onSubmit:t[6]||(t[6]=(0,i.iM)((function(e){return s.submit()}),["prevent"]))},[(0,r._)("div",{class:"small_title",innerHTML:s.words.what_id},null,8,Pe),(0,r._)("div",je,[(0,r.wy)((0,r._)("input",{inputmode:"numeric",oninput:"javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",maxlength:"9",id:"id_card","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.form.id_card=e}),autocomplete:"off",required:""},null,512),[[i.nr,a.form.id_card]]),(0,r._)("label",{for:"id_card",innerHTML:s.words.busines_id},null,8,Ae)]),(0,r._)("div",{class:"small_title",innerHTML:s.words.whats_your_name},null,8,Ee),(0,r._)("div",Be,[(0,r._)("div",Fe,[(0,r.wy)((0,r._)("input",{type:"text",id:"first_name","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.form.first_name=e}),autocomplete:"off",required:""},null,512),[[i.nr,a.form.first_name]]),(0,r._)("label",{for:"first_name",innerHTML:s.words.first_name},null,8,Ze)]),(0,r._)("div",We,[(0,r.wy)((0,r._)("input",{type:"text",id:"last_name","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.form.last_name=e}),autocomplete:"off",required:""},null,512),[[i.nr,a.form.last_name]]),(0,r._)("label",{for:"last_name",innerHTML:s.words.last_name},null,8,Ge)])]),(0,r._)("div",{class:"small_title",innerHTML:s.words.how_well_get_in_touch},null,8,Ye),(0,r._)("div",Qe,[(0,r.wy)((0,r._)("input",{inputmode:"email",type:"text",id:"email","onUpdate:modelValue":t[3]||(t[3]=function(e){return a.form.email=e}),autocomplete:"off",required:""},null,512),[[i.nr,a.form.email]]),(0,r._)("label",{for:"email",innerHTML:s.words.my_email_is},null,8,Re)]),(0,r._)("div",Ke,[(0,r.wy)((0,r._)("input",{inputmode:"numeric",type:"tel",id:"phone","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.form.phone_number=e}),autocomplete:"off",required:""},null,512),[[i.nr,a.form.phone_number]]),(0,r._)("label",{for:"phone",innerHTML:s.words.my_number_is},null,8,Je)]),(0,r._)("div",Xe,[(0,r._)("a",{class:"go_back under_line",onClick:t[5]||(t[5]=function(t){return e.$emit("returnStep")}),tabindex:"0",innerHTML:s.words.return_step},null,8,et),(0,r._)("input",{type:"submit",class:"btn",value:s.words.procced},null,8,tt)])],32)])}n(9720);const it={data:function(){return{form:{id_card:"",first_name:"",last_name:"",email:"",phone_number:""}}},props:{numbersInfo:{required:!0,type:Array},step:{required:!0,type:Number},numbers:{required:!0,type:Array},parentForm:{required:!0,type:Object}},methods:{submit:function(){isNaN(this.form.id_card)?this.activateError(this.$store.state.words.insertValidId):this.$emit("saveData",this.form)}},mounted:function(){this.parentForm&&Object.entries(this.parentForm).length&&(this.form.id_card=this.parentForm.id_card,this.form.first_name=this.parentForm.first_name,this.form.last_name=this.parentForm.last_name,this.form.email=this.parentForm.email,this.form.phone_number=this.parentForm.phone_number)},computed:{words:function(){return this.$store.state.words}}},rt=(0,c.Z)(it,[["render",nt]]),ot=rt;var at={class:"form"},st={class:"step_title"},ut={class:"title"},lt={class:"small_title"},dt={class:"form-item"},ct={key:0,class:"small_title"},mt={key:1,class:"form-item"},pt={class:"small_title"},_t={class:"options"},ft={class:"form-item"},ht={for:"house_num"},vt={class:"form-item"},bt={for:"zip"},wt={class:"btn_wrapper"},gt=["value"];function yt(e,t,n,o,a,s){var u=(0,r.up)("Select2");return(0,r.wg)(),(0,r.iD)("div",at,[(0,r._)("div",st,(0,v.zw)(s.words.step)+" "+(0,v.zw)(n.step),1),(0,r._)("h2",ut,(0,v.zw)(s.words.hey)+" "+(0,v.zw)(a.form.first_name)+", "+(0,v.zw)(s.words.whats_your_address),1),(0,r._)("form",{class:"small_form",onSubmit:t[6]||(t[6]=(0,i.iM)((function(t){return e.$emit("saveData",(0,B.Z)((0,B.Z)({},a.form),{},{city:a.selectedCity,street:a.selectedStreet}))}),["prevent"]))},[(0,r._)("div",lt,(0,v.zw)(s.words.whats_your_city),1),(0,r._)("div",dt,[(0,r.Wm)(u,{modelValue:a.selectedCity,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.selectedCity=e}),required:!0,settings:a.settingsCity,onSelect:t[1]||(t[1]=function(e){return s.onSelectCity()})},null,8,["modelValue","settings"])]),a.openStreet?((0,r.wg)(),(0,r.iD)("div",ct,(0,v.zw)(s.words.whats_your_street),1)):(0,r.kq)("",!0),a.openStreet?((0,r.wg)(),(0,r.iD)("div",mt,[(0,r.Wm)(u,{modelValue:a.selectedStreet,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.selectedStreet=e}),required:!0,settings:a.settingsStreet},null,8,["modelValue","settings"])])):(0,r.kq)("",!0),(0,r._)("div",pt,(0,v.zw)(s.words.whats_your_address),1),(0,r._)("div",_t,[(0,r._)("div",ft,[(0,r.wy)((0,r._)("input",{type:"number",id:"house_num","onUpdate:modelValue":t[3]||(t[3]=function(e){return a.form.house_num=e}),autocomplete:"off",required:""},null,512),[[i.nr,a.form.house_num]]),(0,r._)("label",ht,(0,v.zw)(s.words.house_num),1)])]),(0,r._)("div",vt,[(0,r.wy)((0,r._)("input",{inputmode:"numeric",type:"number",id:"zip","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.form.zip=e}),autocomplete:"off",required:"",oninput:"javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",maxlength:"9"},null,512),[[i.nr,a.form.zip]]),(0,r._)("label",bt,(0,v.zw)(s.words.zip),1)]),(0,r._)("div",wt,[(0,r._)("a",{class:"go_back under_line",onClick:t[5]||(t[5]=function(t){return e.$emit("returnStep")}),tabindex:"0"},(0,v.zw)(s.words.return_step),1),(0,r._)("input",{type:"submit",class:"btn",value:s.words.procced},null,8,gt)])],32)])}n(7658);var Lt=n(4149);const kt={data:function(){return{form:{},cities:["vach"],selectedCity:{},openStreet:!1,selectedStreet:{},isLoading:!1,settingsCity:{language:{noResults:function(){return"לא נמצאו תוצאות"},searching:function(){return"מחפש.."}},dir:"rtl",ajax:{url:window.api_url+"get_cities",headers:{Authorization:localStorage.getItem("user_token")},data:function(e){var t={search:e.term,_type:"query",name:e.term};return t},processResults:function(e){var t=e.data.items,n=[];for(var i in t)n.push({id:t[i].id,text:t[i].name});return{results:n}}}},settingsStreet:{language:{noResults:function(){return"לא נמצאו תוצאות"},searching:function(){return"מחפש.."}},dir:"rtl",ajax:{url:window.api_url+"get_streets",headers:{Authorization:localStorage.getItem("user_token")},data:function(e){var t={search:e.term,_type:"query",name:e.term};return t},processResults:function(e){var t=e.data.items,n=[];for(var i in t)n.push({id:t[i].id,text:t[i].name});return{results:n}}}}}},props:{numbersInfo:{required:!0,type:Array},step:{required:!0,type:Number},numbers:{required:!0,type:Array},parentForm:{required:!0,type:Object}},mounted:function(){this.parentForm&&Object.entries(this.parentForm).length&&(this.form=(0,B.Z)({},this.parentForm))},computed:{words:function(){return this.$store.state.words}},methods:{onSelectCity:function(){this.openStreet=!0,this.api({action:"cart/save_city",data:{city:this.selectedCity}})}},components:{Select2:Lt.Z}},Mt=(0,c.Z)(kt,[["render",yt]]),Tt=Mt;var It={key:0,class:"form",id:"fourth_step",style:{margin:"0"}},Ht=["innerHTML"],Nt=["innerHTML"],Ct={class:"invoice_wrapper"},St=["innerHTML"],qt=(0,r._)("div",{class:"radio"},null,-1),xt={class:"value semi_bold"},$t=["innerHTML"],Dt=["innerHTML"],Ut=(0,r._)("div",{class:"radio"},null,-1),Ot={class:"value semi_bold"},zt=["innerHTML"],Vt={class:"terms"},Pt=["innerHTML"],jt={class:"pdf_wrapper"},At=["innerHTML"],Et={class:"sig_wrapper"},Bt=["innerHTML"],Ft={class:"sig_controls"},Zt=["innerHTML"],Wt={class:"btn_wrapper"},Gt=["innerHTML"],Yt=["value"];function Qt(e,t,n,o,a,s){var u=(0,r.up)("SignaturePad");return a.loaded?((0,r.wg)(),(0,r.iD)("div",It,[(0,r._)("div",{class:"step_title",innerHTML:s.words.step+" "+n.step},null,8,Ht),(0,r._)("h2",{class:"title",innerHTML:s.words.where_to_send_invoice},null,8,Nt),(0,r._)("form",{class:"",onSubmit:t[6]||(t[6]=(0,i.iM)((function(e){return s.openUser()}),["prevent"]))},[(0,r._)("div",Ct,[(0,r._)("div",{class:(0,v.C_)("option "+("0"==a.form.invoice?"active":"")),onClick:t[1]||(t[1]=function(e){return a.form.invoice=0})},[(0,r._)("div",{class:"small_title bold",innerHTML:s.words.email},null,8,St),qt,(0,r._)("div",xt,[(0,r.Uk)((0,v.zw)(n.email)+" ",1),(0,r._)("a",{class:"change_number semi_bold",onClick:t[0]||(t[0]=(0,i.iM)((function(t){return e.$emit("goToStep",2)}),["stop"])),innerHTML:s.words.change_number},null,8,$t)])],2),(0,r._)("div",{class:(0,v.C_)("option "+("1"==a.form.invoice?"active":"")),onClick:t[3]||(t[3]=function(e){return a.form.invoice=1})},[(0,r._)("div",{class:"small_title bold",innerHTML:s.words.send_sms},null,8,Dt),Ut,(0,r._)("div",Ot,[(0,r.Uk)((0,v.zw)(n.phone)+" ",1),(0,r._)("a",{class:"change_number semi_bold",onClick:t[2]||(t[2]=(0,i.iM)((function(t){return e.$emit("goToStep",2)}),["stop"])),innerHTML:s.words.change_number},null,8,zt)])],2)]),(0,r._)("div",Vt,[(0,r._)("h4",{class:"inner_title",innerHTML:s.words.read_terms},null,8,Pt),(0,r._)("div",jt,[(0,r._)("div",{innerHTML:a.terms},null,8,At)]),(0,r._)("div",Et,[(0,r._)("h4",{class:"inner_title",innerHTML:s.words.sign_terms},null,8,Bt),(0,r.Wm)(u,{width:300,height:100,customStyle:a.sigPadStyle,ref:"signaturePad"},null,8,["customStyle"]),(0,r._)("div",Ft,[(0,r._)("a",{onClick:t[4]||(t[4]=function(){return s.clearSig&&s.clearSig.apply(s,arguments)}),class:"btn_clear_sig",innerHTML:s.words.clear_signature},null,8,Zt)])])]),(0,r._)("div",Wt,[(0,r._)("a",{class:"go_back under_line",onClick:t[5]||(t[5]=function(t){return e.$emit("returnStep")}),tabindex:"0",innerHTML:s.words.return_step},null,8,Gt),(0,r._)("input",{type:"submit",class:"btn",value:s.words.procced},null,8,Yt)])],32)])):(0,r.kq)("",!0)}const Rt={data:function(){return{form:{invoice:0},isLoading:!1,terms:"",loaded:!1,numOfPages:0,sigPadStyle:{border:"black 1px solid",marginTop:"5px"}}},props:{numbersInfo:{required:!0,type:Array},step:{required:!0,type:Number},numbers:{required:!0,type:Array},skipPay:{required:!0,type:Boolean},phone:{required:!0,type:String},email:{required:!0,type:String}},mounted:function(){var e=this;this.$store.commit("setIsLoading",{isLoading:!0}),this.api({action:"get_terms",data:{}},(function(t){e.terms=t.data.text,e.loaded=!0,e.$store.commit("setIsLoading",{isLoading:!1})}))},computed:{words:function(){return this.$store.state.words}},methods:{urltoFile:function(e,t,n){return n=n||(e.match(/^data:([^;]+);/)||"")[1],fetch(e).then((function(e){return e.arrayBuffer()})).then((function(e){return new File([e],t,{type:n})}))},onSelectCity:function(){this.openStreet=!0,this.api({action:"cart/save_city",data:{city:this.selectedCity}})},openUser:function(){var e=this;if(this.$store.commit("setIsLoading",{isLoading:!0}),this.$refs.signaturePad.isEmpty())this.activateError(this.words.signature_requierd);else{var t=this.$refs.signaturePad.saveSignature(),n=t.data,i={signature:n};if(this.$emit("saveData",i,!0),this.skipPay)return this.saveDidsToAccount();this.api({action:"api/add_account",data:{}},(function(t){if(t.data.error&&""!=t.data.error)return e.activateError(t.data.error),e.$store.commit("setIsLoading",{isLoading:!1});t.data&&!e.skipPay&&(e.$emit("goToStep",e.step+1),window.scrollTo(0,0))}))}this.$store.commit("setIsLoading",{isLoading:!1})},saveDidsToAccount:function(){var e=this,t=this.$refs.signaturePad.saveSignature(),n=t.data,i={signature:n};this.$emit("saveData",i,!0),this.api({action:"api/save_dids_to_account"},(function(t){t.data.error&&""!=t.data.error?(e.activateError(t.data.error),e.$store.commit("setIsLoading",{isLoading:!1})):document.location="/activate",e.$emit("saveData",!1)}))},clearSig:function(){this.$refs.signaturePad.clearSignature()}}},Kt=(0,c.Z)(Rt,[["render",Qt]]),Jt=Kt;var Xt={class:"form"},en=["innerHTML"],tn=["innerHTML"],nn={class:"form-item"},rn=["innerHTML"],on={class:"form-item"},an=["innerHTML"],sn={class:"options"},un={class:"form-item"},ln=["innerHTML"],dn={class:"form-item"},cn=["innerHTML"],mn={class:"btn_wrapper"},pn=["innerHTML"],_n=["value"];function fn(e,t,n,o,a,s){var u=this,l=(0,r.Q2)("cardformat");return(0,r.wg)(),(0,r.iD)("div",Xt,[(0,r._)("div",{class:"step_title",innerHTML:s.words.step+" "+n.step},null,8,en),(0,r._)("h2",{class:"title",innerHTML:s.words.payment_info},null,8,tn),(0,r._)("form",{class:"small_form",onSubmit:t[5]||(t[5]=(0,i.iM)((function(e){return s.saveCredit()}),["prevent"]))},[(0,r._)("div",nn,[(0,r.wy)((0,r._)("input",{oninput:"javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",maxlength:"16",type:"tel",id:"card_number","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.credit.number=e}),autocomplete:"off",required:""},null,512),[[i.nr,a.credit.number],[l,void 0,"restrictNumeric"],[l,void 0,"formatCardNumber"]]),(0,r._)("label",{for:"card_number",innerHTML:s.words.card_number},null,8,rn)]),(0,r._)("div",on,[(0,r.wy)((0,r._)("input",{oninput:"javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",maxlength:"10",type:"number",id:"card_id","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.credit.id=e}),autocomplete:"off",required:""},null,512),[[i.nr,a.credit.id]]),(0,r._)("label",{for:"card_id",innerHTML:s.words.card_id},null,8,an)]),(0,r._)("div",sn,[(0,r._)("div",un,[(0,r.wy)((0,r._)("input",{oninput:"javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",maxlength:"5",id:"expire",type:"text",autocomplete:"off","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.credit.expire=e}),required:""},null,512),[[l,void 0,"formatCardExpiry"],[i.nr,a.credit.expire]]),(0,r._)("label",{for:"street",innerHTML:s.words.expire},null,8,ln)]),(0,r._)("div",dn,[(0,r.wy)((0,r._)("input",{oninput:"javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",maxlength:"4",id:"cvv",type:"number",autocomplete:"off","onUpdate:modelValue":t[3]||(t[3]=function(e){return a.credit.cvv=e}),required:""},null,512),[[l,void 0,"formatCardCVC"],[i.nr,a.credit.cvv]]),(0,r._)("label",{for:"street",innerHTML:s.words.cvv},null,8,cn)])]),(0,r._)("div",mn,[(0,r._)("a",{class:"go_back under_line",onClick:t[4]||(t[4]=function(e){return u.$emit("returnStep")}),tabindex:"0",innerHTML:s.words.return_step},null,8,pn),(0,r._)("input",{type:"submit",class:"btn",value:s.words.pay},null,8,_n)])],32)])}const hn={data:function(){return{isLoading:!1,credit:{number:"",id:"",expire:"",cvv:""}}},props:{step:{required:!0,type:Number}},computed:{words:function(){return this.$store.state.words}},methods:{saveCredit:function(){var e=this;this.$store.commit("setIsLoading",{isLoading:!0}),this.show_loader=!0,this.api({action:"api/save_dids",data:this.credit},(function(t){var n,i;null!==(n=t.data)&&void 0!==n&&n.error&&""!=(null===(i=t.data)||void 0===i?void 0:i.error)?(e.activateError(t.data.error),e.$store.commit("setIsLoading",{isLoading:!1})):document.location="/activate",e.$store.commit("setIsLoading",{isLoading:!1})}))}}},vn=(0,c.Z)(hn,[["render",fn]]),bn=vn;var wn={class:"form"},gn=["innerHTML"],yn={class:"form-item"},Ln=["innerHTML"],kn={class:"btn_wrapper"},Mn=["disabled"],Tn={key:1},In=["value"];function Hn(e,t,n,o,a,s){var u=(0,r.up)("vue-countdown");return(0,r.wg)(),(0,r.iD)("div",wn,[(0,r._)("h2",{class:"title",innerHTML:e.$store.state.words.insert_otp},null,8,gn),(0,r._)("form",{class:"form_steps",onSubmit:t[2]||(t[2]=(0,i.iM)((function(e){return s.validateOtp()}),["prevent"]))},[(0,r._)("div",yn,[(0,r.wy)((0,r._)("input",{"input-mode":"numeric",type:"number",id:"otp","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.otp=e}),autocomplete:"off",required:""},null,512),[[i.nr,a.otp]]),(0,r._)("label",{for:"otp",innerHTML:s.words.my_otp_is},null,8,Ln)]),(0,r._)("div",kn,[(0,r._)("button",{type:"button",class:"btn btn-primary",disabled:a.allowCodeSend,onClick:t[1]||(t[1]=function(){return s.startCountdown&&s.startCountdown.apply(s,arguments)})},[a.allowCodeSend?((0,r.wg)(),(0,r.j4)(u,{key:0,time:6e4,onEnd:s.onCountdownEnd},{default:(0,r.w5)((function(t){var n=t.totalSeconds;return[(0,r.Uk)((0,v.zw)(e.$store.state.words.send_more_code)+" "+(0,v.zw)(n),1)]})),_:1},8,["onEnd"])):((0,r.wg)(),(0,r.iD)("span",Tn,(0,v.zw)(e.$store.state.words.send_code),1))],8,Mn),(0,r._)("input",{type:"submit",class:"btn",value:s.words.procced},null,8,In)])],32)])}var Nn=n(4384);const Cn={components:{VueCountdown:Nn.Z},props:{phoneNumber:{required:!0,type:Number},idCard:{required:!0,type:Number}},data:function(){return{allowCodeSend:!1,otp:""}},mounted:function(){},computed:{words:function(){return this.$store.state.words}},methods:{startCountdown:function(){this.$emit("sendOtp"),this.allowCodeSend=!0},onCountdownEnd:function(){this.allowCodeSend=!1},validateOtp:function(){var e=this;this.allowCodeSend=!1,this.api({action:"api/validate_otp_with_id",data:{phone:this.phoneNumber,code:this.otp,id:this.idCard}},(function(t){t.data.error&&""!=t.data.error?e.activateError(t.data.error):e.$emit("success")}))}}},Sn=(0,c.Z)(Cn,[["render",Hn]]),qn=Sn;var xn=function(e){return(0,r.dD)("data-v-5af36043"),e=e(),(0,r.Cn)(),e},$n={class:"form"},Dn=["innerHTML"],Un={class:"form-item"},On=["innerHTML"],zn=["innerHTML"],Vn={class:"radio_wrapper"},Pn={class:"container"},jn=xn((function(){return(0,r._)("label",{for:"sms_input",class:"checkmark"},null,-1)})),An={for:"sms_input"},En={class:"container"},Bn=xn((function(){return(0,r._)("div",{class:"checkmark"},null,-1)})),Fn={for:"call_input"},Zn={class:"btn_wrapper"},Wn=["value"];function Gn(e,t,n,o,a,s){return(0,r.wg)(),(0,r.iD)("div",$n,[(0,r._)("h2",{class:"title",innerHTML:s.words.activate_title},null,8,Dn),(0,r._)("form",{class:"form_steps",onSubmit:t[3]||(t[3]=(0,i.iM)((function(e){return s.sendOtp()}),["prevent"]))},[(0,r._)("div",Un,[(0,r.wy)((0,r._)("input",{"input-mode":"numeric",type:"number",id:"phone","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.phoneNumberLocal=e}),autocomplete:"off",required:""},null,512),[[i.nr,a.phoneNumberLocal]]),(0,r._)("label",{for:"phone",innerHTML:s.words.my_number_is},null,8,On)]),(0,r._)("div",{class:"small_title",innerHTML:s.words.how_send_otp},null,8,zn),(0,r._)("div",Vn,[(0,r._)("div",Pn,[(0,r.wy)((0,r._)("input",{type:"radio",id:"sms_input",name:"send_type",value:"SMS","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.send_type=e})},null,512),[[i.G2,a.send_type]]),jn,(0,r._)("label",An,(0,v.zw)(s.words.sms),1)]),(0,r._)("div",En,[(0,r.wy)((0,r._)("input",{type:"radio",id:"call_input",name:"send_type",value:"CALL","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.send_type=e})},null,512),[[i.G2,a.send_type]]),Bn,(0,r._)("label",Fn,(0,v.zw)(s.words.call),1)])]),(0,r._)("div",Zn,[(0,r._)("input",{type:"submit",class:"btn",value:s.words.procced},null,8,Wn)])],32)])}const Yn={components:{},props:{phoneNumber:{required:!0,type:Text}},data:function(){return{phoneNumberLocal:"",send_type:"SMS"}},mounted:function(){""!=this.phoneNumber&&(this.phoneNumberLocal=this.phoneNumber)},computed:{words:function(){return this.$store.state.words}},methods:{sendOtp:function(){var e=this,t=this.phoneNumberLocal;this.api({action:"api/send_otp",data:{number:t,type:this.send_type}},(function(n){n.data.error&&""!=n.data.error?e.activateError(n.data.error):n.data?e.$emit("success",t):e.activateError(e.$store.state.words.goto_help)}))}}},Qn=(0,c.Z)(Yn,[["render",Gn],["__scopeId","data-v-5af36043"]]),Rn=Qn,Kn={components:{FirstStep:Ue,SecondStep:ot,ThirdStep:Tt,FourthStep:Jt,FifthStep:bn,ValidateOtpWithId:qn,SendOtp:Rn},data:function(){return{selectedIds:"",otpValidate:!1,activeNumber:0,step:1,deletedPrice:0,loaded:!1,cartOpen:!this.isMobile(),numbersInfo:[],total:0,form:{},numbers:[],numbersUs:[],skipPay:!1,numbers_overseas_info:[],numberOfSteps:5}},mounted:function(){this.loadData(),this.getNumbers(),this.getUsNumbers()},computed:{words:function(){return this.$store.state.words},bgImg:function(){return this.isMobile()?"https://primemobile.co.il/themes/WID/images/step_2.jpg":"https://primemobile.co.il/themes/WID/images/step_"+(this.step<=5?this.step:2)+".jpg"}},methods:{loadData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r="";this.$route.query.plan&&""!=this.$route.query.plan&&(r=this.$route.query.plan,this.$router.replace({query:null})),this.api({action:"cart/get",data:{plan:r},method:"post"},(function(r){if(e.loaded&&!n&&e.numbersValidation(),void 0===r.data.items||0==r.data.items.length)e.addNewNumber();else{var o=e.parseNumbers(r.data.items);e.numbersInfo=o,e.activeNumber=i||e.numbersInfo[0].id}!1!==t&&(e.activeNumber=t),e.numbers_overseas_info=r.data.numbers_overseas_info,e.form=r.data.order_data,e.total=r.data.total_price,e.deletedPrice=r.data.total_price_deleted}))},goToStep:function(e){this.step=e>0?e:1},toggleProd:function(e,t){var n=this;this.api({action:"cart/add_item",data:{item_id:t.id,id:e.id}},function(){var t=(0,Z.Z)((0,F.Z)().mark((function t(i){var r,o;return(0,F.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:null!==(r=i.data)&&void 0!==r&&r.error&&""!=(null===(o=i.data)||void 0===o?void 0:o.error)?n.activateError(i.data.error):n.numbersValidation(!1,e.id);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},getNumbers:function(){var e=this;this.api({action:"cart/get_numbers",method:"post"},(function(t){t.data.error&&""!=t.data.error?e.activateError(t.data.error):e.numbers=t.data}))},getUsNumbers:function(){var e=this;this.api({action:"cart/get_us_numbers",method:"post"},(function(t){t.data.error&&""!=t.data.error?e.activateError(t.data.error):e.numbersUs=t.data}))},addUsNumber:function(e){var t=this;this.api({action:"cart/add_us_number",data:{plan:e},method:"post"},(function(n){n.data.error&&""!=n.data.error?t.activateError(n.data.error):(t.getUsNumbers(),t.loadData(!1,!0,e.id))}))},removeNumber:function(e){var t=this;this.api({action:"cart/remove_number",data:{phone_number:e.phone_number,id:e.id}},(function(){t.loadData(!1,!0)}))},addNewNumber:function(){var e=this;this.getNumbers(),this.api({action:"cart/add_number",method:"post",data:{id:"new"}},(function(t){t.data.error&&""!=t.data.error?e.activateError(t.data.error):e.loadData(t.data)}))},numbersValidation:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var i in this.numbersInfo)if(this.numbersInfo[i].phone_number.length<10)return this.activeNumber=this.numbersInfo[i].id,this.numbersInfo[i].alert=!0,!1;return this.api({action:"cart/numbers_validation",data:{numbers_array:this.numbersInfo}},(function(i){var r;if(null!==(r=i.data)&&void 0!==r&&r.error&&""!=i.data.error)e.activateError(i.data.error);else{if(i.data.data&&!i.data.data){for(var o in e.numbersInfo)e.numbersInfo[o].id==i.data.id_false&&(e.numbersInfo[o].alert=!0);return!1}t&&(e.step++,window.scrollTo(0,0)),!1!==n&&e.loadData(!1,!1,n)}})),!0},setActiveNumber:function(e){this.activeNumber=e},saveCartData:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(3==this.step&&e.city<=0)return this.activateError(this.words.choose_city),!1;if(3==this.step&&e.street<=0)return this.activateError(this.words.choose_street),!1;if(e){if(e.phone_number){var i=e.phone_number+"";"0"!==i[0]&&(i[0]="0",e.phone_number=+i)}this.form=(0,B.Z)((0,B.Z)({},this.form),e)}this.$store.commit("setIsLoading",{isLoading:!0}),this.api({action:"api/identification_number_exists",data:{id_card:this.form.id_card}},(function(i){if(i.data.error&&""!=i.data.error)return t.activateError(i.data.error),t.$store.commit("setIsLoading",{isLoading:!1});i.data.data.exists&&!t.otpValidate&&i.data.data.account_id?(t.api({action:"cart/add_cart_data",data:e}),t.$store.commit("setIsLoading",{isLoading:!1}),t.$swal.fire({icon:"info",title:'<h2 class="second_step_title" style="font-size: 24px">'.concat(t.words.id_is_exist,"</h2>"),showDenyButton:!0,showCancelButton:!1,confirmButtonText:"המשך לזיהוי",denyButtonText:"שימוש במספר זהות אחר",customClass:{container:"second_step_swal"}}).then((function(e){e.isConfirmed?(t.step=7,t.skipPay=!0):e.isDenied&&(t.step=2)}))):i.data.data.exists&&t.otpValidate?(t.step=4,t.$store.commit("setIsLoading",{isLoading:!1})):t.api({action:"cart/add_cart_data",data:e},(function(){n||(t.step++,window.scrollTo(0,0),t.$store.commit("setIsLoading",{isLoading:!1}))}))}))},parseNumbers:function(e){for(var t in e)e[t].alert=!1,"1"==e[t].has_number?e[t].has_number=!0:e[t].has_number=!1;return e},changeNumber:function(e){this.activeNumber=e.id,this.step=1}}},Jn=(0,c.Z)(Kn,[["render",E]]),Xn=Jn;var ei={key:0,id:"join_us"},ti={class:"wrapper"},ni={class:"forms"},ii={key:0,class:"steps"},ri=["onClick"],oi=(0,r._)("div",{class:"checkbox"},null,-1),ai=[oi],si={id:"form"},ui=(0,r._)("div",{id:"white_logo"},null,-1),li=[ui];function di(e,t,n,i,o,a){var s=(0,r.up)("activateNumber"),u=(0,r.up)("sendOtp"),l=(0,r.up)("validateOtp"),d=(0,r.up)("activateQr");return o.loaded?((0,r.wg)(),(0,r.iD)("div",ei,[(0,r._)("div",ti,[(0,r._)("div",ni,[o.step>0?((0,r.wg)(),(0,r.iD)("div",ii,[e.isMobile()?((0,r.wg)(),(0,r.iD)("div",{key:0,style:(0,v.j5)("width:"+20*o.step+"%"),id:"border"},null,4)):((0,r.wg)(),(0,r.iD)("div",{key:1,id:"border",style:(0,v.j5)("height:"+20*o.step+"%")},null,4)),(0,r._)("ul",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.numberOfSteps,(function(e){return(0,r.wg)(),(0,r.iD)("li",{class:(0,v.C_)("step "+(o.step>=e?"active":"")),key:e,onClick:function(t){return o.step=e}},ai,10,ri)})),128))])])):(0,r.kq)("",!0),(0,r._)("div",si,[1===o.step?((0,r.wg)(),(0,r.j4)(s,{key:0,step:o.step,numbers:o.numbers,personalInfo:o.personalInfo,onNumberActivated:a.finishNumber,onQrActivated:a.qrActivated,onSendOtpForMobility:a.sendOtpForMobility,allowMobility:o.allowMobility},null,8,["step","numbers","personalInfo","onNumberActivated","onQrActivated","onSendOtpForMobility","allowMobility"])):(0,r.kq)("",!0),2===o.step?((0,r.wg)(),(0,r.j4)(u,{key:1,phoneNumber:o.phoneNumber,onSuccess:a.successOtpSend},null,8,["phoneNumber","onSuccess"])):(0,r.kq)("",!0),3===o.step?((0,r.wg)(),(0,r.j4)(l,{key:2,phoneNumber:o.phoneNumber,onSuccess:a.validateOtp},null,8,["phoneNumber","onSuccess"])):(0,r.kq)("",!0),4===o.step?((0,r.wg)(),(0,r.j4)(d,{key:3,qrCode:o.qrCode},null,8,["qrCode"])):(0,r.kq)("",!0)])])]),(0,r._)("div",{id:"back_image",style:(0,v.j5)("background-image:url(https://primemobile.co.il/themes/WID/images/step_"+(o.step<=5?o.step:2)+".jpg)")},li,4)])):(0,r.kq)("",!0)}var ci={class:"form"},mi=["innerHTML"],pi={id:"number_and_arrows"},_i=["innerHTML"],fi=["innerHTML"],hi=["innerHTML"],vi={class:"invoice_wrapper"},bi=["innerHTML"],wi=(0,r._)("div",{class:"radio"},null,-1),gi=["innerHTML"],yi=(0,r._)("div",{class:"radio"},null,-1),Li={key:0,class:"form-item",style:{"margin-top":"20px"}},ki=["innerHTML"],Mi=["innerHTML"],Ti=(0,r._)("div",{class:"radio"},null,-1),Ii=["innerHTML"],Hi={class:"form-item"},Ni=["innerHTML"],Ci=["innerHTML"],Si={class:"options"},qi={class:"form-item"},xi=["innerHTML"],$i={class:"form-item"},Di=["innerHTML"],Ui={class:"form-item"},Oi=["innerHTML"],zi={class:"btn_wrapper"},Vi=["value"],Pi=["innerHTML"],ji={class:"form-item"},Ai=["innerHTML"],Ei={key:0,class:"btn_wrapper"},Bi=["value"];function Fi(e,t,n,o,a,s){return(0,r.wg)(),(0,r.iD)("div",ci,[(0,r._)("h2",{class:"title",innerHTML:s.words.number_to_activate},null,8,mi),(0,r._)("div",pi,[(0,r._)("div",null,[s.isPrev?((0,r.wg)(),(0,r.iD)("a",{key:0,class:"move",onClick:t[0]||(t[0]=function(e){return s.changeActiveNumber("prev")}),innerHTML:s.words.prev_num},null,8,_i)):(0,r.kq)("",!0)]),(0,r._)("div",{id:"active_number_input",innerHTML:s.activeItem.number},null,8,fi),(0,r._)("div",null,[s.isNext?((0,r.wg)(),(0,r.iD)("a",{key:0,class:"move",onClick:t[1]||(t[1]=function(e){return s.changeActiveNumber("next")}),innerHTML:s.words.next_num},null,8,hi)):(0,r.kq)("",!0)])]),(0,r._)("form",{class:"small_form",onSubmit:t[12]||(t[12]=(0,i.iM)((function(e){return s.submit()}),["prevent"]))},[(0,r._)("div",vi,[(0,r._)("div",{class:(0,v.C_)("option "+("1"==s.activeItem.sim?"active":"")),onClick:t[2]||(t[2]=function(e){return s.activeItem.sim=1})},[(0,r._)("div",{class:"small_title bold",innerHTML:s.words.i_have_esim},null,8,bi),wi],2),(0,r._)("div",{class:(0,v.C_)("option "+("2"==s.activeItem.sim?"active":"")),onClick:t[4]||(t[4]=function(e){return s.activeItem.sim=2})},[(0,r._)("div",{class:"small_title bold",innerHTML:s.words.i_have_sim},null,8,gi),yi,"2"==s.activeItem.sim?((0,r.wg)(),(0,r.iD)("div",Li,[(0,r.wy)((0,r._)("input",{"input-mode":"numeric",oninput:"javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",maxlength:"6",type:"number",id:"iccid","onUpdate:modelValue":t[3]||(t[3]=function(e){return s.activeItem.iccid=e}),autocomplete:"off",required:""},null,512),[[i.nr,s.activeItem.iccid]]),(0,r._)("label",{for:"iccid",innerHTML:s.words.last_six_dig},null,8,ki)])):(0,r.kq)("",!0)],2),(0,r._)("div",{class:(0,v.C_)("option "+("0"==s.activeItem.sim?"active":"")),onClick:t[10]||(t[10]=function(e){return s.activeItem.sim=0})},[(0,r._)("div",{class:"small_title bold",innerHTML:s.words.delivery_guy},null,8,Mi),Ti,"0"==s.activeItem.sim?((0,r.wg)(),(0,r.iD)("form",{key:0,onSubmit:t[9]||(t[9]=(0,i.iM)((function(e){return s.saveNumberInfo()}),["prevent"]))},[(0,r._)("div",{class:"small_title",innerHTML:s.words.whats_your_city},null,8,Ii),(0,r._)("div",Hi,[(0,r.wy)((0,r._)("input",{type:"text",id:"city","onUpdate:modelValue":t[5]||(t[5]=function(e){return a.personalInfo.city=e}),autocomplete:"off",required:""},null,512),[[i.nr,a.personalInfo.city]]),(0,r._)("label",{for:"city",innerHTML:s.words.city},null,8,Ni)]),(0,r._)("div",{class:"small_title",innerHTML:s.words.whats_your_address},null,8,Ci),(0,r._)("div",Si,[(0,r._)("div",qi,[(0,r.wy)((0,r._)("input",{type:"text",id:"street","onUpdate:modelValue":t[6]||(t[6]=function(e){return a.personalInfo.street=e}),autocomplete:"off",required:""},null,512),[[i.nr,a.personalInfo.street]]),(0,r._)("label",{for:"street",innerHTML:s.words.street},null,8,xi)]),(0,r._)("div",$i,[(0,r.wy)((0,r._)("input",{type:"number",id:"house_num","onUpdate:modelValue":t[7]||(t[7]=function(e){return a.personalInfo.house_num=e}),autocomplete:"off",required:""},null,512),[[i.nr,a.personalInfo.house_num]]),(0,r._)("label",{for:"house_num",innerHTML:s.words.house_num},null,8,Di)])]),(0,r._)("div",Ui,[(0,r.wy)((0,r._)("input",{inputmode:"numeric",type:"text",id:"zip","onUpdate:modelValue":t[8]||(t[8]=function(e){return a.personalInfo.zip=e}),autocomplete:"off",required:""},null,512),[[i.nr,a.personalInfo.zip]]),(0,r._)("label",{for:"zip",innerHTML:s.words.zip},null,8,Oi)]),(0,r._)("div",zi,[(0,r._)("input",{type:"submit",class:"btn",value:s.words.send_to_mail},null,8,Vi)])],32)):(0,r.kq)("",!0)],2)]),(0,r._)("div",{class:"small_title bold",innerHTML:s.words.chnage_user_name},null,8,Pi),(0,r._)("div",ji,[(0,r.wy)((0,r._)("input",{type:"text",id:"user_name","onUpdate:modelValue":t[11]||(t[11]=function(e){return s.activeItem.user_name=e}),autocomplete:"off"},null,512),[[i.nr,s.activeItem.user_name]]),(0,r._)("label",{for:"house_num",innerHTML:s.words.my_user_name},null,8,Ai)]),"0"!=s.activeItem.sim?((0,r.wg)(),(0,r.iD)("div",Ei,[(0,r._)("input",{type:"submit",class:"btn",value:s.words.procced},null,8,Bi)])):(0,r.kq)("",!0)],32)])}const Zi={components:{},props:{step:{required:!0,type:Number},allowMobility:{required:!0,type:Boolean},numbers:{required:!0,type:Array}},data:function(){return{phoneNumber:"",activeNumber:0,personalInfo:{},userLoged:!0}},mounted:function(){this.loadInfo()},computed:{words:function(){return this.$store.state.words},isNext:function(){return!!this.numbers[this.activeItem.id+1]&&this.numbers[this.activeItem.id+1].id},isPrev:function(){return!!this.numbers[this.activeItem.id-1]&&this.numbers[this.activeItem.id-1].id},activeItem:function(){var e={};for(var t in this.numbers)this.numbers[t].id==this.activeNumber&&(e=this.numbers[t]);return e}},methods:{loadInfo:function(){var e=this;this.api({action:"cart/load_info",data:{},onComplete:function(t){t.data.error&&""!=t.data.error?e.activateError(t.data.error):e.personalInfo=t.data}}),this.$store.commit("setIsLoading",{isLoading:!1})},submit:function(){this.activeItem.is_new||this.allowMobility?this.saveNumberInfo():this.$emit("sendOtpForMobility",this.activeItem.number)},saveNumberInfo:function(){var e=this,t={},n=this.activeItem.is_new?"כן":"לא";if(t.number=this.activeItem.number,t.user_name=this.activeItem.user_name,t.is_esim=this.activeItem.sim,t.iccid=this.activeItem.iccid,this.$store.commit("setIsLoading",{isLoading:!0}),0==t.is_esim)this.api({action:"send_email_to_support",data:{form:t,personalInfo:this.personalInfo,is_new:n}},(function(t){if(t.data.error&&""!=t.data.error)e.activateError(t.data.error);else{var n="הסים נשלח אלייך בהצלחה ויגיע תוך 5 ימי עסקים";e.activatePromptExit(n,"success")}})),this.activeNumber=!1,this.$store.commit("setIsLoading",{isLoading:!1});else{if(2==t.is_esim?t.is_esim=0:t.iccid="",t.iccid.length>0&&t.iccid.length<6)return this.activateError(this.words.iccid_short),this.activeNumber=!1,!1;this.api({action:"api/activate_order",data:t},(function(n){if(n.data.error&&""!=n.data.error)e.activateError(n.data.error);else if(e.$emit("numberActivated",t.number),n.data.esim)e.$emit("qrActivated",n.data.image);else{var i="מספר "+t.number+" הופעל בהצלחה!!";e.activatePromptExit(i,"success")}e.$store.commit("setIsLoading",{isLoading:!1})}))}},changeActiveNumber:function(e){this.activeNumber="next"==e?this.isNext:this.isPrev}}},Wi=(0,c.Z)(Zi,[["render",Fi]]),Gi=Wi;var Yi={class:"form"},Qi=["innerHTML"],Ri=["innerHTML"],Ki=["innerHTML"],Ji={class:"form-item"},Xi=["innerHTML"],er={class:"btn_wrapper"},tr=["value"],nr={class:"btn_wrapper"},ir=["value"];function rr(e,t,n,o,a,s){var u=(0,r.up)("qrcode-vue");return(0,r.wg)(),(0,r.iD)("div",Yi,[(0,r._)("h2",{class:"title",innerHTML:e.$store.state.words.activate_esim_scan},null,8,Qi),(0,r.Wm)(u,{value:n.qrCode,size:a.qrSize,level:"H",id:"qrCode"},null,8,["value","size"]),(0,r._)("a",{class:"btn",onClick:t[0]||(t[0]=function(){return s.downloadImage&&s.downloadImage.apply(s,arguments)}),innerHTML:e.$store.state.words.activate_esim_download},null,8,Ri),(0,r._)("h2",{class:"title",innerHTML:e.$store.state.words.activate_esim_send_to_mail},null,8,Ki),(0,r._)("form",{class:"form_steps",onSubmit:t[2]||(t[2]=(0,i.iM)((function(e){return s.sendQrToMail()}),["prevent"])),style:{"margin-bottom":"50px"}},[(0,r._)("div",Ji,[(0,r.wy)((0,r._)("input",{inputmode:"email",type:"text",id:"email","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.email=e}),autocomplete:"off",required:""},null,512),[[i.nr,a.email]]),(0,r._)("label",{for:"otp",innerHTML:e.$store.state.words.my_email_is},null,8,Xi)]),(0,r._)("div",er,[(0,r._)("input",{type:"submit",class:"btn",value:e.$store.state.words.send_to_mail},null,8,tr)])],32),(0,r._)("div",nr,[(0,r._)("input",{type:"submit",onClick:t[3]||(t[3]=function(){return s.finish&&s.finish.apply(s,arguments)}),class:"btn",value:e.$store.state.words.finish},null,8,ir)])])}var or=n(9356),ar=n.n(or);const sr={components:{QrcodeVue:ar()},props:{qrCode:{required:!0,type:Text}},data:function(){return{phoneNumber:"",email:"",qrSize:300,qrValue:"LPA:1$smdp.io$4K-1M7L9N-1FGG29N",activeNumber:0,userLoged:!0}},mounted:function(){},computed:{words:function(){return this.$store.state.words}},methods:{downloadImage:function(){var e=document.createElement("a");e.download="QrCode.png",e.href=document.getElementById("qrCode").toDataURL(),e.click()},sendQrToMail:function(){var e=this;this.api({action:"sendQrToMail",data:{qr:this.qrCode,email:this.email}},(function(t){t.data.error&&""!=t.data.error?e.activateError(t.data.error):e.activateSuccess(e.$store.state.words.send_succesfuly)}))},finish:function(){var e=this;this.api({action:"api/get_open_order_numbers",data:{}},(function(t){t.data.error&&""!=t.data.error?e.activateError(t.data.error):t.data.length>0?e.$emit("loadData"):(e.activateSuccess(e.$store.state.words.finish_all),e.api({action:"cart/finish"}),setTimeout((function(){document.location="/"}),3e3))}))}}},ur=(0,c.Z)(sr,[["render",rr]]),lr=ur;var dr={class:"form"},cr=["innerHTML"],mr={class:"form-item"},pr=["innerHTML"],_r={class:"btn_wrapper"},fr=["disabled"],hr={key:1},vr=["value"];function br(e,t,n,o,a,s){var u=(0,r.up)("vue-countdown");return(0,r.wg)(),(0,r.iD)("div",dr,[(0,r._)("h2",{class:"title",innerHTML:e.$store.state.words.insert_otp},null,8,cr),(0,r._)("form",{class:"form_steps",onSubmit:t[2]||(t[2]=(0,i.iM)((function(e){return s.validateOtp()}),["prevent"]))},[(0,r._)("div",mr,[(0,r.wy)((0,r._)("input",{"input-mode":"numeric",type:"number",id:"otp","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.otp=e}),autocomplete:"off",required:""},null,512),[[i.nr,a.otp]]),(0,r._)("label",{for:"otp",innerHTML:e.$store.state.words.my_otp_is},null,8,pr)]),(0,r._)("div",_r,[(0,r._)("button",{type:"button",class:"btn btn-primary",disabled:a.allowCodeSend,onClick:t[1]||(t[1]=function(){return s.startCountdown&&s.startCountdown.apply(s,arguments)})},[a.allowCodeSend?((0,r.wg)(),(0,r.j4)(u,{key:0,time:6e4,onEnd:s.onCountdownEnd},{default:(0,r.w5)((function(t){var n=t.totalSeconds;return[(0,r.Uk)((0,v.zw)(e.$store.state.words.send_more_code)+" "+(0,v.zw)(n),1)]})),_:1},8,["onEnd"])):((0,r.wg)(),(0,r.iD)("span",hr,(0,v.zw)(e.$store.state.words.send_code),1))],8,fr),(0,r._)("input",{type:"submit",class:"btn",value:s.words.procced},null,8,vr)])],32)])}const wr={components:{VueCountdown:Nn.Z},props:{activeItem:{required:!0,type:Array},phoneNumber:{required:!0,type:Number}},data:function(){return{allowCodeSend:!0,otp:""}},mounted:function(){},computed:{words:function(){return this.$store.state.words}},methods:{startCountdown:function(){this.$emit("sendOtp"),this.allowCodeSend=!0},onCountdownEnd:function(){this.allowCodeSend=!1},validateOtp:function(){var e=this,t="";this.allow_code_send=!1,t=this.activeItem&&this.activeItem.number&&""!=this.activeItem.number.length?this.activeItem.number:this.phoneNumber,this.api({action:"api/validate_otp",data:{phone:t,code:this.otp}},(function(t){t.data.error&&""!=t.data.error?e.activateError(t.data.error):e.$emit("success")}))}}},gr=(0,c.Z)(wr,[["render",br]]),yr=gr,Lr={components:{activateNumber:Gi,sendOtp:Rn,validateOtp:yr,activateQr:lr},data:function(){return{step:1,deletedPrice:0,phoneNumber:0,loaded:!1,cartOpen:!this.isMobile(),total:0,form:{},numbers:[],personalInfo:{},skipPay:!1,allowMobility:!1,numberOfSteps:5,qrCode:""}},mounted:function(){this.loadData()},computed:{words:function(){return this.$store.state.words}},methods:{successOtpSend:function(e){this.phoneNumber=e,this.step++},validateOtp:function(){this.loadData(),this.step=1},finishNumber:function(e){console.log(e),this.allowMobility=!1},loadData:function(){var e=this;this.$store.commit("setIsLoading",{isLoading:!0}),this.api({action:"api/get_open_order_numbers"},(function(t){if(t.data.error&&""!=t.data.error)e.activateError(t.data.error);else if(!t.data.length>0)e.$swal({icon:"info",title:e.$store.state.words.no_numbers_av,showDenyButton:!0,showCancelButton:!1,confirmButtonText:"הפעלה ממספר אחר",denyButtonText:"חזרה לדף הבית"}).then((function(t){t.isConfirmed?e.step=2:t.isDenied&&(document.location="/")}));else{for(var n in t.data)t.data[n].sim=1,t.data[n].user_name="",t.data[n].iccid="";e.numbers=t.data}})),this.loaded=!0},sendOtpForMobility:function(e){this.phoneNumber=e,this.step=2,this.allowMobility=!0},qrActivated:function(e){this.qrCode=e,this.step=4}}},kr=(0,c.Z)(Lr,[["render",di]]),Mr=kr;var Tr=[{path:"/",name:"JoinUs",component:Xn},{path:"/Activate",name:"activate",component:Mr}],Ir=(0,h.p7)({history:(0,h.PO)("/joinus/"),base:"/joinus/",routes:Tr});const Hr=Ir;var Nr=n(65);const Cr=(0,Nr.MT)({state:{words:[],isLoading:!1},getters:{},mutations:{setWords:function(e,t){e.words=t.words},setIsLoading:function(e,t){e.isLoading=t.isLoading}},actions:{},modules:{}});var Sr=n(7749),qr=n(3494),xr=n(8539),$r=n(70),Dr=n(6423),Ur=n(7563),Or=n(1485),zr=n(6553),Vr=n.n(zr);window.api_url="https://widely.co.il/api_vue/";var Pr=(0,i.ri)({extends:p}).use(Cr).use(Hr);qr.vI.add(xr.I7k,xr.sq$,xr.NBC),Pr.component("FontAwesomeIcon",Sr.GN),Pr.use(Dr.Z,$r.ZP),Pr.use(Ur.Z),Pr.use(Or.Z),Pr.use(Vr()),Pr.mixin(f),Pr.mount("#app")}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,(()=>{n.amdO={}})(),(()=>{var e=[];n.O=(t,i,r,o)=>{if(!i){var a=1/0;for(d=0;d<e.length;d++){for(var[i,r,o]=e[d],s=!0,u=0;u<i.length;u++)(!1&o||a>=o)&&Object.keys(n.O).every((e=>n.O[e](i[u])))?i.splice(u--,1):(s=!1,o<a&&(a=o));if(s){e.splice(d--,1);var l=r();void 0!==l&&(t=l)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[i,r,o]}})(),(()=>{n.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return n.d(t,{a:t}),t}})(),(()=>{n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.hmd=e=>(e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e)})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{var e={143:0};n.O.j=t=>0===e[t];var t=(t,i)=>{var r,o,[a,s,u]=i,l=0;if(a.some((t=>0!==e[t]))){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(u)var d=u(n)}for(t&&t(i);l<a.length;l++)o=a[l],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(d)},i=self["webpackChunkwidly"]=self["webpackChunkwidly"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var i=n.O(void 0,[998],(()=>n(5315)));i=n.O(i)})();
//# sourceMappingURL=app.eb4daebf.js.map