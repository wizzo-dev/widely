(()=>{"use strict";var e={578:(e,t,n)=>{n(6992),n(8674),n(9601),n(7727);var r=n(5010),i=n(3396),o={key:0},a={key:1,id:"wave_animation_wrapper"},s=(0,i._)("div",{id:"wave_animation"},[(0,i._)("span"),(0,i._)("span"),(0,i._)("span"),(0,i._)("span"),(0,i._)("span")],-1),u=[s];function d(e,t,n,r,s,d){var l=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)(i.HY,null,[s.loaded?((0,i.wg)(),(0,i.iD)("div",o,[(0,i.Wm)(l)])):(0,i.kq)("",!0),e.$store.state.isLoading?((0,i.wg)(),(0,i.iD)("div",a,u)):(0,i.kq)("",!0)],64)}const l={data:function(){return{words:[],loaded:!1}},mounted:function(){var e=this;this.$store.commit("setIsLoading",{isLoading:!0}),this.api({action:"general",method:"get"},(function(t){localStorage.setItem("user_token",t.data.cookie);var n=t.data.words;e.$store.commit("setWords",{words:n}),e.$store.commit("setIsLoading",{isLoading:!1}),e.loaded=!0}))}};var c=n(89);const m=(0,c.Z)(l,[["render",d]]),p=m;n(2222),n(4916),n(5306),n(6647),n(3710),n(1539),n(9714),n(2564),n(2772),n(5212),n(4723);var _={computed:{isApp:function(){return!this.isNull(window.cordova)&&0!=window.cordova}},methods:{alert:function(e,t,n,r){this.$swal.fire({html:e,cancelButtonText:"אישור",confirmButtonText:'<a href="'.concat(t,'">').concat(n,"</a>"),customClass:{container:r}})},bg:function(e){return"background-image:url("+e+")"},get_word:function(e){return this.$store.words[e]},save_item_to_store:function(e){if(!this.isNull(e))switch(e.type){case"video":this.$store.state.videos[e.id]=e;break;case"article":this.$store.state.articles[e.id]=e;break;case"faq":this.$store.state.faq[e.id]=e;break}},format_number:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},isNull:function(e){return""==e||null==e||void 0==e},parse_date:function(e){var t=new Date(e);return t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()},get_me:function(){return this.$store.user},is_subscribed:function(){return this.get_me()&&this.get_me().is_subscribed},set_user_token:function(e){localStorage.setItem("user_token",e);var t=new Date;t.setMonth(t.getMonth()+12);var n="app_user",r=""==e?"0":"1";document.cookie=n+"="+r+";expires="+t+";domain=.nadlancenter;path=/"},activateInfo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.$swal({icon:"info",title:e,showDenyButton:!0,showCancelButton:!1,confirmButtonText:"הפעלה ממספר אחר",denyButtonText:"חזרה לדף הבית",customClass:{container:t}})},activatePromptExit:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";this.$swal({icon:t,text:e,showCloseButton:!1,showCancelButton:!1,allowOutsideClick:!1,showConfirmButton:!0,confirmButtonText:"אוקיי"}).then((function(){document.location="/"}))},activateSuccess:function(e){this.$swal({icon:"success",text:e,showCloseButton:!0,showCancelButton:!1,showConfirmButton:!1})},activateError:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.$swal({icon:"error",text:e,showCloseButton:!0,showCancelButton:!1,showConfirmButton:!1,customClass:{container:t}})},debounce:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];clearTimeout(t),t=setTimeout((function(){e.apply(n,o)}),r)}},get_item:function(e,t,n){var r=this,i=new Promise((function(i){null!=r.$store.state[t][n]?i(r.$store.state[t][r.id]):r.api({action:e,data:{id:n},method:"get"},(function(e){r.save_item_to_store(e.data),i(e.data)}))}));return i},api:function(e,t,n){var r=this;this.isNull(t)&&(t=function(){});var i={"Content-Type":"application/json; charset=utf-8"};this.isNull(localStorage.getItem("user_token"))||(i.Authorization=localStorage.getItem("user_token"));var o=this.axios.CancelToken.source();if("get"==e.method){var a=e.action;if(a+=-1===a.indexOf("?")?"?":"&",a=a+"ts="+(new Date).getHours()+"_"+((new Date).getMinutes()<30?"0":"30"),!this.isNull(e.data))for(var s in e.data)a+="&"+s+"="+e.data[s];this.axios.get(window.api_url+a,{headers:i,cancelToken:o.token}).then((function(e){"error"==e.data&&(r.set_user_token(""),document.location.reload()),t(e.data)}),(function(e){r.isNull(n)?t(!1):n(e)}))}else this.axios.post(window.api_url+e.action,e.data,{headers:i,cancelToken:o.token}).then((function(e){"error"==e.data&&(r.set_user_token(""),document.location.reload()),t(e.data)}),(function(e){r.isNull(n)||n(e)}));return o},isMobile:function(){var e=[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i];return e.some((function(e){return navigator.userAgent.match(e)}))}}};const f=_;var h=n(2483),v=n(7139),b=function(e){return(0,i.dD)("data-v-53606b28"),e=e(),(0,i.Cn)(),e},w={id:"join_us"},g={class:"wrapper"},y={class:"forms"},L={class:"cart_title bold hide_on_close"},k={class:"hide_on_close"},M={class:"options"},T=["onClick"],I={key:1,class:"trash"},H={key:2},N={key:0,class:"small_title bold"},C=["onClick"],S={class:"small_title"},q={class:"small_title bold add_ils"},$={class:"flex hide_on_close"},D={class:"small_title bold"},x={class:"total_sub main_color bold"},O={key:0,class:"deleted_price add_ils"},z={class:"add_ils"},U=b((function(){return(0,i._)("div",{id:"back_image"},[(0,i._)("div",{id:"white_logo"})],-1)}));function P(e,t,n,r,o,a){var s=(0,i.up)("font-awesome-icon"),u=(0,i.up)("routerLink"),d=(0,i.up)("FirstStep"),l=(0,i.up)("SecondStep"),c=(0,i.up)("ThirdStep"),m=(0,i.up)("FourthStep"),p=(0,i.up)("FifthStep"),_=(0,i.up)("SendOtp"),f=(0,i.up)("ValidateOtpWithId");return(0,i.wg)(),(0,i.iD)("div",w,[(0,i._)("div",g,[(0,i._)("div",y,[(0,i._)("div",{id:"cart",class:(0,v.C_)(o.cartOpen?"open":"close")},[e.isMobile()?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("div",{class:"cart",onClick:t[0]||(t[0]=function(e){return o.cartOpen=!0})},[(0,i.Wm)(s,{icon:"fa fa-shopping-cart"})]),(0,i._)("div",{class:"close",onClick:t[1]||(t[1]=function(e){return o.cartOpen=!o.cartOpen})},[(0,i.Wm)(s,{icon:"fa fa-times"})])],64)):(0,i.kq)("",!0),(0,i._)("div",L,(0,v.zw)(a.words.cart_title),1),(0,i._)("ul",k,[o.numbersInfo?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)(o.numbersInfo,(function(e){return(0,i.wg)(),(0,i.iD)("li",{key:e.id,class:"active"},[(0,i._)("div",M,[o.numbersInfo.length>1?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"trash",onClick:function(t){return a.removeNumber(e)}},[(0,i.Wm)(s,{icon:"fa fa-trash-alt"})],8,T)):((0,i.wg)(),(0,i.iD)("div",I)),e.phone_number.length>3?((0,i.wg)(),(0,i.iD)("div",H,[e.phone_number.length<12?((0,i.wg)(),(0,i.iD)("div",N,[(0,i.Uk)((0,v.zw)(e.phone_number)+" ",1),(0,i._)("a",{class:"change_number semi_bold",onClick:function(t){return a.changeNumber(e)}},(0,v.zw)(a.words.change_number),9,C)])):(0,i.kq)("",!0),(0,i._)("div",S,(0,v.zw)(e.has_number?"מספר קיים":"מספר חדש"),1)])):(0,i.kq)("",!0),(0,i._)("div",q,(0,v.zw)(e.total_price),1)])])})),128)):(0,i.kq)("",!0)]),(0,i._)("div",$,[(0,i._)("div",D,(0,v.zw)(a.words.total),1),(0,i._)("div",x,[o.total<o.deletedPrice?((0,i.wg)(),(0,i.iD)("span",O,(0,v.zw)(o.deletedPrice),1)):(0,i.kq)("",!0),(0,i._)("span",z,(0,v.zw)(o.total),1),(0,i.Uk)(" "+(0,v.zw)(a.words.to_month),1)])])],2),(0,i._)("div",{id:"form",class:(0,v.C_)("step_"+o.step)},[(0,i.Wm)(u,{to:"/",class:"clean_link go_back_home"},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,v.zw)(e.$store.state.words.go_back_home),1)]})),_:1}),1===o.step?((0,i.wg)(),(0,i.j4)(d,{key:0,onLoadData:a.loadData,onReturnStep:t[2]||(t[2]=function(e){return o.step--}),onSetActiveNumber:a.setActiveNumber,onToggleProd:a.toggleProd,numbers_overseas_info:o.numbers_overseas_info,numbersInfo:o.numbersInfo,step:o.step,numbers:o.numbers,onAddNewNumber:a.addNewNumber,onAddUsNumber:a.addUsNumber,onGetNumbers:a.getNumbers,onNumbersValidation:a.numbersValidation,activeNumber:+o.activeNumber},null,8,["onLoadData","onSetActiveNumber","onToggleProd","numbers_overseas_info","numbersInfo","step","numbers","onAddNewNumber","onAddUsNumber","onGetNumbers","onNumbersValidation","activeNumber"])):(0,i.kq)("",!0),2===o.step?((0,i.wg)(),(0,i.j4)(l,{key:1,onReturnStep:t[3]||(t[3]=function(e){return o.step--}),numbersInfo:o.numbersInfo,parentForm:o.form,step:o.step,numbers:o.numbers,onSaveData:a.saveCartData},null,8,["numbersInfo","parentForm","step","numbers","onSaveData"])):(0,i.kq)("",!0),3===o.step?((0,i.wg)(),(0,i.j4)(c,{key:2,onReturnStep:t[4]||(t[4]=function(e){return o.step--}),numbersInfo:o.numbersInfo,parentForm:o.form,step:o.step,numbers:o.numbers,onSaveData:a.saveCartData},null,8,["numbersInfo","parentForm","step","numbers","onSaveData"])):(0,i.kq)("",!0),4===o.step?((0,i.wg)(),(0,i.j4)(m,{key:3,skipPay:o.skipPay,onGoToStep:a.goToStep,email:o.form.email||"",phone:o.form.phone_number||"",onReturnStep:t[5]||(t[5]=function(e){return o.step--}),numbersInfo:o.numbersInfo,step:o.step,numbers:o.numbers,onSaveData:a.saveCartData},null,8,["skipPay","onGoToStep","email","phone","numbersInfo","step","numbers","onSaveData"])):(0,i.kq)("",!0),5===o.step?((0,i.wg)(),(0,i.j4)(p,{key:4,skipPay:o.skipPay,onGoToStep:a.goToStep,onReturnStep:t[6]||(t[6]=function(e){return o.step--}),numbersInfo:o.numbersInfo,step:o.step,numbers:o.numbers,onSaveData:a.saveCartData},null,8,["skipPay","onGoToStep","numbersInfo","step","numbers","onSaveData"])):(0,i.kq)("",!0),7===o.step?((0,i.wg)(),(0,i.j4)(_,{key:5,phoneNumber:o.form.phone_number,onSuccess:t[7]||(t[7]=function(e){return o.step=8})},null,8,["phoneNumber"])):(0,i.kq)("",!0),8===o.step?((0,i.wg)(),(0,i.j4)(f,{key:6,idCard:o.form.id_card,phoneNumber:o.form.phone_number,onSuccess:t[8]||(t[8]=function(e){o.step=4,o.otpValidate=!0})},null,8,["idCard","phoneNumber"])):(0,i.kq)("",!0)],2)])]),U])}var V=n(5082),A=n(124),j=n(8534),B=(n(8309),n(2526),n(1817),{class:"form"}),E={class:"step_title"},F=["innerHTML"],Z=["innerHTML"],W={id:"numbers_wrapper"},G=["innerHTML"],R={class:"options"},Q=["innerHTML"],Y=["innerHTML"],K={key:1},J={class:"form-item"},X=["title"],ee=["innerHTML"],te={key:2,id:"choose_number"},ne={key:0,class:"options"},re=["onClick"],ie=["innerHTML"],oe={class:"prods_wrapper"},ae={class:"checkbox"},se={class:"container_check"},ue=["onUpdate:modelValue","onInput"],de=(0,i._)("span",{class:"checkmark"},null,-1),le={class:"content"},ce={class:"title_prod bold"},me=["innerHTML"],pe=["innerHTML"],_e=["innerHTML"],fe={class:"checkbox"},he={class:"container_check"},ve=(0,i._)("span",{class:"checkmark"},null,-1),be={class:"content"},we={class:"title_prod bold"},ge=["innerHTML"],ye=["innerHTML"],Le=["innerHTML"],ke={class:"btn_wrapper"},Me=["innerHTML"],Te={class:"paging"},Ie=["onClick"],He=["innerHTML"];function Ne(e,t,n,o,a,s){var u=(0,i.up)("font-awesome-icon");return(0,i.wg)(),(0,i.iD)("div",B,[(0,i._)("div",E,(0,v.zw)(s.words.step)+" "+(0,v.zw)(n.step),1),(0,i._)("h2",{class:"title",innerHTML:s.words.choose_number},null,8,F),(0,i._)("h3",{class:"sec_title_step",innerHTML:s.words.first_step_sec_title},null,8,Z),(0,i._)("div",W,[(0,i._)("div",{class:(0,v.C_)(["number_wrapper",{alert:s.activeItem.alert}]),onClick:t[7]||(t[7]=function(e){return s.activeItem.alert?s.activeItem.alert=!1:""})},[n.numbersInfo.length>1?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"trash",onClick:t[0]||(t[0]=function(e){return s.removeNumber(s.activeItem)})},[(0,i.Wm)(u,{icon:"fa fa-trash-alt"})])):(0,i.kq)("",!0),(0,i._)("div",{class:"pack_num",innerHTML:s.activeIndex},null,8,G),(0,i._)("div",R,[(0,i._)("a",{class:(0,v.C_)("tab "+("1"==s.activeItem.has_number?"active":"")),onClick:t[1]||(t[1]=function(e){return s.changeHasNum(s.activeItem,!0)}),innerHTML:s.words.has_number},null,10,Q),(0,i._)("a",{class:(0,v.C_)("tab "+(0==s.activeItem.has_number?"active":"")),onClick:t[2]||(t[2]=function(e){return s.changeHasNum(s.activeItem,!1)}),innerHTML:s.words.dont_has_number},null,10,Y)]),s.activeItem.has_number?((0,i.wg)(),(0,i.iD)("form",K,[(0,i._)("div",J,[(0,i._)("div",{class:"flag",title:s.words.change_country},null,8,X),(0,i.wy)((0,i._)("input",{inputmode:"numeric",oninput:"javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",maxlength:"13",type:"text",id:"phone_number","onUpdate:modelValue":t[3]||(t[3]=function(e){return s.activeItem.phone_number=e}),autocomplete:"off",required:""},null,512),[[r.nr,s.activeItem.phone_number]]),(0,i._)("label",{for:"phone_number",innerHTML:s.words.my_number_is},null,8,ee)])])):((0,i.wg)(),(0,i.iD)("form",te,[n.numbers&&n.numbers.length>0?((0,i.wg)(),(0,i.iD)("div",ne,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.numbers,(function(e,t){return(0,i.wg)(),(0,i.iD)("a",{key:t,onClick:function(t){return s.setActiveNumber(e)},class:(0,v.C_)("number "+(e.number==s.activeItem.phone_number?"active":""))},(0,v.zw)(e.number),11,re)})),128)),(0,i._)("a",{class:"chose_number",onClick:t[4]||(t[4]=function(e){return s.getNumbers()}),innerHTML:s.words.mix_numbers},null,8,ie)])):(0,i.kq)("",!0)])),(0,i._)("div",oe,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.activeItem.products,(function(e,t){return(0,i.wg)(),(0,i.iD)("div",{class:"prod",key:t},[(0,i._)("div",ae,[(0,i._)("label",se,[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":function(t){return e.active=t},onInput:function(t){return s.toggleProduct(s.activeItem,e)}},null,40,ue),[[r.e8,e.active]]),de])]),(0,i._)("div",le,[(0,i._)("div",ce,[(0,i.Uk)((0,v.zw)(e.name)+" ",1),e.price>0?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Uk)(" / "),(0,i._)("span",{class:"semi_bold add_ils",innerHTML:e.price},null,8,me),(0,i._)("span",{class:"deleted_price add_ils",innerHTML:e.deleted_price},null,8,pe)],64)):(0,i.kq)("",!0)]),(0,i._)("div",{class:"sub_title semi_bold",innerHTML:e.description},null,8,_e)])])})),128)),n.numbers_overseas_info?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)(n.numbers_overseas_info,(function(e,n){return(0,i.wg)(),(0,i.iD)("div",{class:"prod",key:n},[(0,i._)("div",fe,[(0,i._)("label",he,[(0,i.wy)((0,i._)("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=function(e){return s.activeItem.isUsNumber=e}),onInput:t[6]||(t[6]=function(e){return s.addUsNumber()})},null,544),[[r.e8,s.activeItem.isUsNumber]]),ve])]),(0,i._)("div",be,[(0,i._)("div",we,[(0,i.Uk)((0,v.zw)(e.title)+" / ",1),(0,i._)("span",{class:"semi_bold add_ils",innerHTML:e.price},null,8,ge),(0,i._)("span",{class:"deleted_price add_ils",innerHTML:e.deleted_price},null,8,ye)]),(0,i._)("div",{class:"sub_title semi_bold",innerHTML:e.description},null,8,Le)])])})),128)):(0,i.kq)("",!0)])],2)]),(0,i._)("div",ke,[n.numbersInfo.length<5?((0,i.wg)(),(0,i.iD)("a",{key:0,class:"btn dashed",onClick:t[8]||(t[8]=function(e){return s.addNumber(!0)}),tabindex:"0",innerHTML:s.words.add_new_number},null,8,Me)):(0,i.kq)("",!0),(0,i._)("div",Te,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.numbersInfo,(function(e,t){return(0,i.wg)(),(0,i.iD)("a",{key:t,class:(0,v.C_)([{active:e.id==s.activeItem.id},"item_page"]),onClick:function(t){return s.setActiveNumberById(e.id)}},(0,v.zw)(t+1),11,Ie)})),128))]),(0,i._)("a",{class:"btn",onClick:t[9]||(t[9]=function(e){return s.numbersValidation(!0)}),tabindex:"0",innerHTML:s.words.procced},null,8,He)])])}n(9653),n(1249);const Ce={props:{numbersInfo:{required:!0,type:Array},activeNumber:{required:!0,type:Number},step:{required:!0,type:Number},numbers:{required:!0,type:Array},numbers_overseas_info:{required:!0,type:Array},numbersUs:{required:!0,type:Array}},computed:{words:function(){return this.$store.state.words},activeItem:function(){var e={};for(var t in this.numbersInfo)this.numbersInfo[t].id==this.activeNumber&&(e=this.numbersInfo[t]);return e.products&&(e.products=e.products.map((function(e){return e.active=!!e.active,e}))),e},activeIndex:function(){var e=0;for(var t in this.numbersInfo)if(e++,this.numbersInfo[t].id==this.activeNumber)return e;return e}},methods:{setActiveNumber:function(e){this.numbersValidation(),this.activeItem.phone_number=e.number},setActiveNumberById:function(e){this.$emit("setActiveNumber",e)},numbersValidation:function(e){this.$emit("numbersValidation",e)},toggleProduct:function(e,t){this.$emit("toggleProd",e,t)},addUsNumber:function(){this.$emit("addUsNumber",this.activeItem)},removeNumber:function(e){var t=this;this.api({action:"cart/remove_number",data:{phone_number:e.phone_number,id:e.id}},(function(){t.$emit("loadData",!1,!0)}))},changeHasNum:function(e,t){e.has_number=t,this.activeItem.phone_number="",this.api({action:"cart/change_has_num",data:{id:e.id,status:t}})},getNumbers:function(){this.$emit("getNumbers")},addNumber:function(){var e=this;this.api({action:"cart/numbers_validation",data:{numbers_array:this.numbersInfo}},(function(t){if(t.data.error&&""!=t.data.error)e.activateError(t.data.error);else if(t.data.id_false>0&&!t.data.status)for(var n in e.numbersInfo)e.numbersInfo[n].id==t.data.id_false&&(e.setActiveNumberById(e.numbersInfo[n].id),e.activeItem.alert=!0);else e.$emit("addNewNumber")}))}}},Se=(0,c.Z)(Ce,[["render",Ne]]),qe=Se;var $e={class:"form"},De={class:"step_title"},xe=["innerHTML"],Oe=["innerHTML"],ze={class:"form-item"},Ue=["innerHTML"],Pe=["innerHTML"],Ve={class:"options"},Ae={class:"form-item"},je=["innerHTML"],Be={class:"form-item"},Ee=["innerHTML"],Fe=["innerHTML"],Ze={class:"form-item"},We=["innerHTML"],Ge={class:"form-item"},Re=["innerHTML"],Qe={class:"btn_wrapper"},Ye=["innerHTML"],Ke=["value"];function Je(e,t,n,o,a,s){return(0,i.wg)(),(0,i.iD)("div",$e,[(0,i._)("div",De,(0,v.zw)(s.words.step)+" "+(0,v.zw)(n.step),1),(0,i._)("h2",{class:"title",innerHTML:s.words.nice_to_meet_you},null,8,xe),(0,i._)("form",{class:"form_steps",onSubmit:t[6]||(t[6]=(0,r.iM)((function(e){return s.submit()}),["prevent"]))},[(0,i._)("div",{class:"small_title",innerHTML:s.words.what_id},null,8,Oe),(0,i._)("div",ze,[(0,i.wy)((0,i._)("input",{inputmode:"numeric",oninput:"javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",maxlength:"9",id:"id_card","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.form.id_card=e}),autocomplete:"off",required:""},null,512),[[r.nr,a.form.id_card]]),(0,i._)("label",{for:"id_card",innerHTML:s.words.busines_id},null,8,Ue)]),(0,i._)("div",{class:"small_title",innerHTML:s.words.whats_your_name},null,8,Pe),(0,i._)("div",Ve,[(0,i._)("div",Ae,[(0,i.wy)((0,i._)("input",{type:"text",id:"first_name","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.form.first_name=e}),autocomplete:"off",required:""},null,512),[[r.nr,a.form.first_name]]),(0,i._)("label",{for:"first_name",innerHTML:s.words.first_name},null,8,je)]),(0,i._)("div",Be,[(0,i.wy)((0,i._)("input",{type:"text",id:"last_name","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.form.last_name=e}),autocomplete:"off",required:""},null,512),[[r.nr,a.form.last_name]]),(0,i._)("label",{for:"last_name",innerHTML:s.words.last_name},null,8,Ee)])]),(0,i._)("div",{class:"small_title",innerHTML:s.words.how_well_get_in_touch},null,8,Fe),(0,i._)("div",Ze,[(0,i.wy)((0,i._)("input",{inputmode:"email",type:"text",id:"email","onUpdate:modelValue":t[3]||(t[3]=function(e){return a.form.email=e}),autocomplete:"off",required:""},null,512),[[r.nr,a.form.email]]),(0,i._)("label",{for:"email",innerHTML:s.words.my_email_is},null,8,We)]),(0,i._)("div",Ge,[(0,i.wy)((0,i._)("input",{inputmode:"numeric",type:"tel",id:"phone","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.form.phone_number=e}),autocomplete:"off",required:""},null,512),[[r.nr,a.form.phone_number]]),(0,i._)("label",{for:"phone",innerHTML:s.words.my_number_is},null,8,Re)]),(0,i._)("div",Qe,[(0,i._)("a",{class:"go_back under_line",onClick:t[5]||(t[5]=function(t){return e.$emit("returnStep")}),tabindex:"0",innerHTML:s.words.return_step},null,8,Ye),(0,i._)("input",{type:"submit",class:"btn",value:s.words.procced},null,8,Ke)])],32)])}n(9720);const Xe={data:function(){return{form:{id_card:"",first_name:"",last_name:"",email:"",phone_number:""}}},props:{numbersInfo:{required:!0,type:Array},step:{required:!0,type:Number},numbers:{required:!0,type:Array},parentForm:{required:!0,type:Object}},methods:{submit:function(){isNaN(this.form.id_card)?this.activateError(this.$store.state.words.insertValidId):this.$emit("saveData",this.form)}},mounted:function(){this.parentForm&&Object.entries(this.parentForm).length&&(this.form.id_card=this.parentForm.id_card,this.form.first_name=this.parentForm.first_name,this.form.last_name=this.parentForm.last_name,this.form.email=this.parentForm.email,this.form.phone_number=this.parentForm.phone_number)},computed:{words:function(){return this.$store.state.words}}},et=(0,c.Z)(Xe,[["render",Je]]),tt=et;var nt={class:"form"},rt={class:"step_title"},it={class:"title"},ot={class:"small_title"},at={class:"form-item"},st={key:0,class:"small_title"},ut={key:1,class:"form-item"},dt={class:"small_title"},lt={class:"options"},ct={class:"form-item"},mt={for:"house_num"},pt={class:"form-item"},_t={for:"zip"},ft={class:"btn_wrapper"},ht=["value"];function vt(e,t,n,o,a,s){var u=(0,i.up)("Select2");return(0,i.wg)(),(0,i.iD)("div",nt,[(0,i._)("div",rt,(0,v.zw)(s.words.step)+" "+(0,v.zw)(n.step),1),(0,i._)("h2",it,(0,v.zw)(s.words.hey)+" "+(0,v.zw)(a.form.first_name)+", "+(0,v.zw)(s.words.whats_your_address),1),(0,i._)("form",{class:"small_form",onSubmit:t[6]||(t[6]=(0,r.iM)((function(t){return e.$emit("saveData",(0,V.Z)((0,V.Z)({},a.form),{},{city:a.selectedCity,street:a.selectedStreet}))}),["prevent"]))},[(0,i._)("div",ot,(0,v.zw)(s.words.whats_your_city),1),(0,i._)("div",at,[(0,i.Wm)(u,{modelValue:a.selectedCity,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.selectedCity=e}),required:!0,settings:a.settingsCity,onSelect:t[1]||(t[1]=function(e){return s.onSelectCity()})},null,8,["modelValue","settings"])]),a.openStreet?((0,i.wg)(),(0,i.iD)("div",st,(0,v.zw)(s.words.whats_your_street),1)):(0,i.kq)("",!0),a.openStreet?((0,i.wg)(),(0,i.iD)("div",ut,[(0,i.Wm)(u,{modelValue:a.selectedStreet,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.selectedStreet=e}),required:!0,settings:a.settingsStreet},null,8,["modelValue","settings"])])):(0,i.kq)("",!0),(0,i._)("div",dt,(0,v.zw)(s.words.whats_your_address),1),(0,i._)("div",lt,[(0,i._)("div",ct,[(0,i.wy)((0,i._)("input",{type:"number",id:"house_num","onUpdate:modelValue":t[3]||(t[3]=function(e){return a.form.house_num=e}),autocomplete:"off",required:""},null,512),[[r.nr,a.form.house_num]]),(0,i._)("label",mt,(0,v.zw)(s.words.house_num),1)])]),(0,i._)("div",pt,[(0,i.wy)((0,i._)("input",{inputmode:"numeric",type:"number",id:"zip","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.form.zip=e}),autocomplete:"off",required:"",oninput:"javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",maxlength:"9"},null,512),[[r.nr,a.form.zip]]),(0,i._)("label",_t,(0,v.zw)(s.words.zip),1)]),(0,i._)("div",ft,[(0,i._)("a",{class:"go_back under_line",onClick:t[5]||(t[5]=function(t){return e.$emit("returnStep")}),tabindex:"0"},(0,v.zw)(s.words.return_step),1),(0,i._)("input",{type:"submit",class:"btn",value:s.words.procced},null,8,ht)])],32)])}n(7658);var bt=n(4149);const wt={data:function(){return{form:{},cities:["vach"],selectedCity:{},openStreet:!1,selectedStreet:{},isLoading:!1,settingsCity:{language:{noResults:function(){return"לא נמצאו תוצאות"},searching:function(){return"מחפש.."}},dir:"rtl",ajax:{url:window.api_url+"get_cities",headers:{Authorization:localStorage.getItem("user_token")},data:function(e){var t={search:e.term,_type:"query",name:e.term};return t},processResults:function(e){var t=e.data.items,n=[];for(var r in t)n.push({id:t[r].id,text:t[r].name});return{results:n}}}},settingsStreet:{language:{noResults:function(){return"לא נמצאו תוצאות"},searching:function(){return"מחפש.."}},dir:"rtl",ajax:{url:window.api_url+"get_streets",headers:{Authorization:localStorage.getItem("user_token")},data:function(e){var t={search:e.term,_type:"query",name:e.term};return t},processResults:function(e){var t=e.data.items,n=[];for(var r in t)n.push({id:t[r].id,text:t[r].name});return{results:n}}}}}},props:{numbersInfo:{required:!0,type:Array},step:{required:!0,type:Number},numbers:{required:!0,type:Array},parentForm:{required:!0,type:Object}},mounted:function(){this.parentForm&&Object.entries(this.parentForm).length&&(this.form=(0,V.Z)({},this.parentForm))},computed:{words:function(){return this.$store.state.words}},methods:{onSelectCity:function(){this.openStreet=!0,this.api({action:"cart/save_city",data:{city:this.selectedCity}})}},components:{Select2:bt.Z}},gt=(0,c.Z)(wt,[["render",vt]]),yt=gt;var Lt=function(e){return(0,i.dD)("data-v-16673716"),e=e(),(0,i.Cn)(),e},kt={key:0,class:"form",id:"fourth_step",style:{margin:"0"}},Mt=["innerHTML"],Tt=["innerHTML"],It={class:"invoice_wrapper"},Ht=["innerHTML"],Nt=Lt((function(){return(0,i._)("div",{class:"radio"},null,-1)})),Ct={class:"value semi_bold"},St=["innerHTML"],qt=["innerHTML"],$t=Lt((function(){return(0,i._)("div",{class:"radio"},null,-1)})),Dt={class:"value semi_bold"},xt=["innerHTML"],Ot={class:"terms"},zt=["innerHTML"],Ut={class:"pdf_wrapper"},Pt=["innerHTML"],Vt={class:"sig_wrapper"},At=["innerHTML"],jt={class:"sig_controls"},Bt=["innerHTML"],Et={class:"btn_wrapper"},Ft=["innerHTML"],Zt=["value"];function Wt(e,t,n,o,a,s){var u=(0,i.up)("SignaturePad");return a.loaded?((0,i.wg)(),(0,i.iD)("div",kt,[(0,i._)("div",{class:"step_title",innerHTML:s.words.step+" "+n.step},null,8,Mt),(0,i._)("h2",{class:"title",innerHTML:s.words.where_to_send_invoice},null,8,Tt),(0,i._)("form",{class:"",onSubmit:t[6]||(t[6]=(0,r.iM)((function(e){return s.openUser()}),["prevent"]))},[(0,i._)("div",It,[(0,i._)("div",{class:(0,v.C_)("option "+("0"==a.form.invoice?"active":"")),onClick:t[1]||(t[1]=function(e){return a.form.invoice=0})},[(0,i._)("div",{class:"small_title bold",innerHTML:s.words.email},null,8,Ht),Nt,(0,i._)("div",Ct,[(0,i.Uk)((0,v.zw)(n.email)+" ",1),(0,i._)("a",{class:"change_number semi_bold",onClick:t[0]||(t[0]=(0,r.iM)((function(t){return e.$emit("goToStep",2)}),["stop"])),innerHTML:s.words.change_number},null,8,St)])],2),(0,i._)("div",{class:(0,v.C_)("option "+("1"==a.form.invoice?"active":"")),onClick:t[3]||(t[3]=function(e){return a.form.invoice=1})},[(0,i._)("div",{class:"small_title bold",innerHTML:s.words.send_sms},null,8,qt),$t,(0,i._)("div",Dt,[(0,i.Uk)((0,v.zw)(n.phone)+" ",1),(0,i._)("a",{class:"change_number semi_bold",onClick:t[2]||(t[2]=(0,r.iM)((function(t){return e.$emit("goToStep",2)}),["stop"])),innerHTML:s.words.change_number},null,8,xt)])],2)]),(0,i._)("div",Ot,[(0,i._)("h4",{class:"inner_title",innerHTML:s.words.read_terms},null,8,zt),(0,i._)("div",Ut,[(0,i._)("div",{innerHTML:a.terms},null,8,Pt)]),(0,i._)("div",Vt,[(0,i._)("h4",{class:"inner_title",innerHTML:s.words.sign_terms},null,8,At),(0,i.Wm)(u,{width:300,height:100,customStyle:a.sigPadStyle,ref:"signaturePad"},null,8,["customStyle"]),(0,i._)("div",jt,[(0,i._)("a",{onClick:t[4]||(t[4]=function(){return s.clearSig&&s.clearSig.apply(s,arguments)}),class:"btn_clear_sig",innerHTML:s.words.clear_signature},null,8,Bt)])])]),(0,i._)("div",Et,[(0,i._)("a",{class:"go_back under_line",onClick:t[5]||(t[5]=function(t){return e.$emit("returnStep")}),tabindex:"0",innerHTML:s.words.return_step},null,8,Ft),(0,i._)("input",{type:"submit",class:"btn",value:s.words.procced},null,8,Zt)])],32)])):(0,i.kq)("",!0)}const Gt={data:function(){return{form:{invoice:0},isLoading:!1,terms:"",loaded:!1,numOfPages:0,sigPadStyle:{border:"black 1px solid",marginTop:"5px"}}},props:{numbersInfo:{required:!0,type:Array},step:{required:!0,type:Number},numbers:{required:!0,type:Array},skipPay:{required:!0,type:Boolean},phone:{required:!0,type:String},email:{required:!0,type:String}},mounted:function(){var e=this;this.$store.commit("setIsLoading",{isLoading:!0}),this.api({action:"get_terms",data:{}},(function(t){e.terms=t.data.text,e.loaded=!0,e.$store.commit("setIsLoading",{isLoading:!1})}))},computed:{words:function(){return this.$store.state.words}},methods:{urltoFile:function(e,t,n){return n=n||(e.match(/^data:([^;]+);/)||"")[1],fetch(e).then((function(e){return e.arrayBuffer()})).then((function(e){return new File([e],t,{type:n})}))},onSelectCity:function(){this.openStreet=!0,this.api({action:"cart/save_city",data:{city:this.selectedCity}})},openUser:function(){if(this.$store.commit("setIsLoading",{isLoading:!0}),this.$refs.signaturePad.isEmpty())this.activateError(this.words.signature_requierd);else{var e=this.$refs.signaturePad.saveSignature(),t=e.data,n={signature:t};this.$emit("saveData",n)}this.$store.commit("setIsLoading",{isLoading:!1})},clearSig:function(){this.$refs.signaturePad.clearSignature()}}},Rt=(0,c.Z)(Gt,[["render",Wt],["__scopeId","data-v-16673716"]]),Qt=Rt;var Yt={class:"form"},Kt=["innerHTML"],Jt=["innerHTML"],Xt=["innerHTML"],en=["src"];function tn(e,t,n,r,o,a){return(0,i.wg)(),(0,i.iD)("div",Yt,[(0,i._)("div",{class:"step_title",innerHTML:a.words.step+" "+n.step},null,8,Kt),(0,i._)("h2",{class:"title",innerHTML:a.words.payment_info},null,8,Jt),(0,i._)("a",{class:"go_back under_line",onClick:t[0]||(t[0]=function(t){return e.$emit("returnStep")}),tabindex:"0",innerHTML:a.words.return_step},null,8,Xt),o.paymentId>0?((0,i.wg)(),(0,i.iD)("iframe",{key:0,src:"https://widely.co.il/payments/do_redirect/"+o.paymentId},null,8,en)):(0,i.kq)("",!0)])}const nn={data:function(){return{isLoading:!1,loaded:!1,paymentId:0,credit:{number:"",id:"",expire:"",cvv:""}}},props:{step:{required:!0,type:Number}},computed:{words:function(){return this.$store.state.words}},mounted:function(){this.getPayment()},methods:{getPayment:function(){var e=this;this.$store.commit("setIsLoading",{isLoading:!0}),this.api({action:"create_payment"},(function(t){e.paymentId=t.data,e.$store.commit("setIsLoading",{isLoading:!1})}))}}},rn=(0,c.Z)(nn,[["render",tn]]),on=rn;var an={class:"form"},sn=["innerHTML"],un={class:"form-item"},dn=["innerHTML"],ln={class:"btn_wrapper"},cn=["disabled"],mn={key:1},pn=["value"];function _n(e,t,n,o,a,s){var u=(0,i.up)("vue-countdown");return(0,i.wg)(),(0,i.iD)("div",an,[(0,i._)("h2",{class:"title",innerHTML:e.$store.state.words.insert_otp},null,8,sn),(0,i._)("form",{class:"form_steps",onSubmit:t[2]||(t[2]=(0,r.iM)((function(e){return s.validateOtp()}),["prevent"]))},[(0,i._)("div",un,[(0,i.wy)((0,i._)("input",{"input-mode":"numeric",type:"number",id:"otp","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.otp=e}),autocomplete:"off",required:""},null,512),[[r.nr,a.otp]]),(0,i._)("label",{for:"otp",innerHTML:s.words.my_otp_is},null,8,dn)]),(0,i._)("div",ln,[(0,i._)("button",{type:"button",class:"btn btn-primary",disabled:a.allowCodeSend,onClick:t[1]||(t[1]=function(){return s.startCountdown&&s.startCountdown.apply(s,arguments)})},[a.allowCodeSend?((0,i.wg)(),(0,i.j4)(u,{key:0,time:6e4,onEnd:s.onCountdownEnd},{default:(0,i.w5)((function(t){var n=t.totalSeconds;return[(0,i.Uk)((0,v.zw)(e.$store.state.words.send_more_code)+" "+(0,v.zw)(n),1)]})),_:1},8,["onEnd"])):((0,i.wg)(),(0,i.iD)("span",mn,(0,v.zw)(e.$store.state.words.send_code),1))],8,cn),(0,i._)("input",{type:"submit",class:"btn",value:s.words.procced},null,8,pn)])],32)])}var fn=n(4384);const hn={components:{VueCountdown:fn.Z},props:{phoneNumber:{required:!0,type:Number},idCard:{required:!0,type:Number}},data:function(){return{allowCodeSend:!1,otp:""}},mounted:function(){},computed:{words:function(){return this.$store.state.words}},methods:{startCountdown:function(){this.$emit("sendOtp"),this.allowCodeSend=!0},onCountdownEnd:function(){this.allowCodeSend=!1},validateOtp:function(){var e=this;this.allowCodeSend=!1,this.api({action:"api/validate_otp_with_id",data:{phone:this.phoneNumber,code:this.otp,id:this.idCard}},(function(t){t.data.error&&""!=t.data.error?e.activateError(t.data.error):e.$emit("success")}))}}},vn=(0,c.Z)(hn,[["render",_n]]),bn=vn;var wn=function(e){return(0,i.dD)("data-v-5af36043"),e=e(),(0,i.Cn)(),e},gn={class:"form"},yn=["innerHTML"],Ln={class:"form-item"},kn=["innerHTML"],Mn=["innerHTML"],Tn={class:"radio_wrapper"},In={class:"container"},Hn=wn((function(){return(0,i._)("label",{for:"sms_input",class:"checkmark"},null,-1)})),Nn={for:"sms_input"},Cn={class:"container"},Sn=wn((function(){return(0,i._)("div",{class:"checkmark"},null,-1)})),qn={for:"call_input"},$n={class:"btn_wrapper"},Dn=["value"];function xn(e,t,n,o,a,s){return(0,i.wg)(),(0,i.iD)("div",gn,[(0,i._)("h2",{class:"title",innerHTML:s.words.activate_title},null,8,yn),(0,i._)("form",{class:"form_steps",onSubmit:t[3]||(t[3]=(0,r.iM)((function(e){return s.sendOtp()}),["prevent"]))},[(0,i._)("div",Ln,[(0,i.wy)((0,i._)("input",{"input-mode":"numeric",type:"number",id:"phone","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.phoneNumberLocal=e}),autocomplete:"off",required:""},null,512),[[r.nr,a.phoneNumberLocal]]),(0,i._)("label",{for:"phone",innerHTML:s.words.my_number_is},null,8,kn)]),(0,i._)("div",{class:"small_title",innerHTML:s.words.how_send_otp},null,8,Mn),(0,i._)("div",Tn,[(0,i._)("div",In,[(0,i.wy)((0,i._)("input",{type:"radio",id:"sms_input",name:"send_type",value:"SMS","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.send_type=e})},null,512),[[r.G2,a.send_type]]),Hn,(0,i._)("label",Nn,(0,v.zw)(s.words.sms),1)]),(0,i._)("div",Cn,[(0,i.wy)((0,i._)("input",{type:"radio",id:"call_input",name:"send_type",value:"CALL","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.send_type=e})},null,512),[[r.G2,a.send_type]]),Sn,(0,i._)("label",qn,(0,v.zw)(s.words.call),1)])]),(0,i._)("div",$n,[(0,i._)("input",{type:"submit",class:"btn",value:s.words.procced},null,8,Dn)])],32)])}const On={components:{},props:{phoneNumber:{required:!0,type:Text}},data:function(){return{phoneNumberLocal:"",send_type:"SMS"}},mounted:function(){""!=this.phoneNumber&&(this.phoneNumberLocal=this.phoneNumber)},computed:{words:function(){return this.$store.state.words}},methods:{sendOtp:function(){var e=this,t=this.phoneNumberLocal;this.api({action:"api/send_otp",data:{number:t,type:this.send_type}},(function(n){n.data.error&&""!=n.data.error?e.activateError(n.data.error):n.data?e.$emit("success",t):e.activateError(e.$store.state.words.goto_help)}))}}},zn=(0,c.Z)(On,[["render",xn],["__scopeId","data-v-5af36043"]]),Un=zn,Pn={components:{FirstStep:qe,SecondStep:tt,ThirdStep:yt,FourthStep:Qt,FifthStep:on,ValidateOtpWithId:bn,SendOtp:Un},data:function(){return{selectedIds:"",otpValidate:!1,activeNumber:0,step:1,deletedPrice:0,loaded:!1,cartOpen:!this.isMobile(),numbersInfo:[],total:0,form:{},numbers:[],numbersUs:[],skipPay:!1,numbers_overseas_info:[],numberOfSteps:5}},mounted:function(){this.loadData(),this.getNumbers()},computed:{words:function(){return this.$store.state.words},bgImg:function(){return this.isMobile()?"https://primemobile.co.il/themes/WID/images/step_2.jpg":"https://primemobile.co.il/themes/WID/images/step_"+(this.step<=5?this.step:2)+".jpg"}},methods:{loadData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i="";this.$route.query.plan&&""!=this.$route.query.plan&&(i=this.$route.query.plan,this.$router.replace({query:null})),this.api({action:"cart/get",data:{plan:i},method:"post"},(function(i){if(e.loaded&&!n&&e.numbersValidation(),void 0===i.data.items||0==i.data.items.length)e.addNewNumber();else{var o=e.parseNumbers(i.data.items);e.numbersInfo=o,e.activeNumber=r||e.numbersInfo[0].id}!1!==t&&(e.activeNumber=t),e.numbers_overseas_info=i.data.numbers_overseas_info,e.form=i.data.order_data,e.total=i.data.total_price,e.deletedPrice=i.data.total_price_deleted}))},goToStep:function(e){this.step=e>0?e:1},toggleProd:function(e,t){var n=this;this.api({action:"cart/add_item",data:{item_id:t.id,id:e.id}},function(){var t=(0,j.Z)((0,A.Z)().mark((function t(r){var i,o;return(0,A.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:null!==(i=r.data)&&void 0!==i&&i.error&&""!=(null===(o=r.data)||void 0===o?void 0:o.error)?n.activateError(r.data.error):n.numbersValidation(!1,e.id);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},getNumbers:function(){var e=this;this.api({action:"cart/get_numbers",method:"post"},(function(t){t.data.error&&""!=t.data.error?e.activateError(t.data.error):e.numbers=t.data}))},getUsNumbers:function(){var e=this;this.api({action:"cart/get_us_numbers",method:"post"},(function(t){t.data.error&&""!=t.data.error?e.activateError(t.data.error):e.numbersUs=t.data}))},addUsNumber:function(e){var t=this;this.api({action:"cart/add_us_number",data:{plan:e},method:"post"},(function(n){n.data.error&&""!=n.data.error?t.activateError(n.data.error):t.loadData(!1,!0,e.id)}))},removeNumber:function(e){var t=this;this.api({action:"cart/remove_number",data:{phone_number:e.phone_number,id:e.id}},(function(){t.loadData(!1,!0)}))},addNewNumber:function(){var e=this;this.getNumbers(),this.api({action:"cart/add_number",method:"post",data:{id:"new"}},(function(t){t.data.error&&""!=t.data.error?e.activateError(t.data.error):e.loadData(t.data)}))},numbersValidation:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var r in this.numbersInfo)if(this.numbersInfo[r].phone_number.length<10)return this.activeNumber=this.numbersInfo[r].id,this.numbersInfo[r].alert=!0,!1;return this.api({action:"cart/numbers_validation",data:{numbers_array:this.numbersInfo}},(function(r){var i;if(null!==(i=r.data)&&void 0!==i&&i.error&&""!=r.data.error)e.activateError(r.data.error);else{if(r.data.data&&!r.data.data){for(var o in e.numbersInfo)e.numbersInfo[o].id==r.data.id_false&&(e.numbersInfo[o].alert=!0);return!1}t&&(e.step++,window.scrollTo(0,0)),!1!==n&&e.loadData(!1,!1,n)}})),!0},setActiveNumber:function(e){this.activeNumber=e},saveCartData:function(e){var t=this;if(3==this.step&&e.city<=0)return this.activateError(this.words.choose_city),!1;if(3==this.step&&e.street<=0)return this.activateError(this.words.choose_street),!1;if(e){if(e.phone_number){var n=e.phone_number+"";"0"!==n[0]&&(n[0]="0",e.phone_number=+n)}this.form=(0,V.Z)((0,V.Z)({},this.form),e)}this.$store.commit("setIsLoading",{isLoading:!0}),this.api({action:"cart/data_exist",data:{id_card:this.form.id_card,email:this.form.email}},(function(n){n.data?(t.api({action:"cart/add_cart_data",data:e}),t.$store.commit("setIsLoading",{isLoading:!1}),t.$swal.fire({icon:"info",title:'<h2 class="second_step_title" style="font-size: 24px">'.concat(t.words.id_is_exist,"</h2>"),showDenyButton:!0,showCancelButton:!1,confirmButtonText:"אזור אישי",denyButtonText:"שימוש במספר זהות אחר",customClass:{container:"second_step_swal"}}).then((function(e){e.isConfirmed?document.location="/":e.isDenied&&(t.step=2)}))):t.api({action:"cart/add_cart_data",data:e},(function(){t.step++,window.scrollTo(0,0),t.$store.commit("setIsLoading",{isLoading:!1})}))}))},parseNumbers:function(e){for(var t in e)e[t].alert=!1,"1"==e[t].has_number?e[t].has_number=!0:e[t].has_number=!1;return e},changeNumber:function(e){this.activeNumber=e.id,this.step=1}}},Vn=(0,c.Z)(Pn,[["render",P],["__scopeId","data-v-53606b28"]]),An=Vn;var jn={key:0,id:"join_us"},Bn={class:"wrapper"},En={class:"forms"},Fn={id:"form"},Zn=(0,i._)("div",{id:"back_image"},[(0,i._)("div",{id:"white_logo"})],-1);function Wn(e,t,n,r,o,a){var s=(0,i.up)("activateNumber"),u=(0,i.up)("sendOtp"),d=(0,i.up)("validateOtp"),l=(0,i.up)("activateQr");return o.loaded?((0,i.wg)(),(0,i.iD)("div",jn,[(0,i._)("div",Bn,[(0,i._)("div",En,[(0,i._)("div",Fn,[1===o.step?((0,i.wg)(),(0,i.j4)(s,{key:0,step:o.step,numbers:o.numbers,personalInfo:o.personalInfo,onNumberActivated:a.finishNumber,onQrActivated:a.qrActivated,onSendOtpForMobility:a.sendOtpForMobility,allowMobility:o.allowMobility},null,8,["step","numbers","personalInfo","onNumberActivated","onQrActivated","onSendOtpForMobility","allowMobility"])):(0,i.kq)("",!0),2===o.step?((0,i.wg)(),(0,i.j4)(u,{key:1,phoneNumber:o.phoneNumber,onSuccess:a.successOtpSend},null,8,["phoneNumber","onSuccess"])):(0,i.kq)("",!0),3===o.step?((0,i.wg)(),(0,i.j4)(d,{key:2,phoneNumber:o.phoneNumber,onSuccess:a.validateOtp},null,8,["phoneNumber","onSuccess"])):(0,i.kq)("",!0),4===o.step?((0,i.wg)(),(0,i.j4)(l,{key:3,qrCode:o.qrCode},null,8,["qrCode"])):(0,i.kq)("",!0)])])]),Zn])):(0,i.kq)("",!0)}var Gn={class:"form"},Rn=["innerHTML"],Qn={id:"number_and_arrows"},Yn=["innerHTML"],Kn=["innerHTML"],Jn=["innerHTML"],Xn={class:"invoice_wrapper"},er=["innerHTML"],tr=(0,i._)("div",{class:"radio"},null,-1),nr={key:0,class:"form-item",style:{"margin-top":"20px"}},rr=["innerHTML"],ir=["innerHTML"],or=(0,i._)("div",{class:"radio"},null,-1),ar=["innerHTML"],sr={class:"form-item"},ur=["innerHTML"],dr=["innerHTML"],lr={class:"options"},cr={class:"form-item"},mr=["innerHTML"],pr={class:"form-item"},_r=["innerHTML"],fr={class:"form-item"},hr=["innerHTML"],vr={class:"btn_wrapper"},br=["value"],wr=["innerHTML"],gr={class:"form-item"},yr=["innerHTML"],Lr={key:0,class:"btn_wrapper"},kr=["value"];function Mr(e,t,n,o,a,s){return(0,i.wg)(),(0,i.iD)("div",Gn,[(0,i._)("h2",{class:"title",innerHTML:s.words.number_to_activate},null,8,Rn),(0,i._)("div",Qn,[(0,i._)("div",null,[s.isPrev?((0,i.wg)(),(0,i.iD)("a",{key:0,class:"move",onClick:t[0]||(t[0]=function(e){return s.changeActiveNumber("prev")}),innerHTML:s.words.prev_num},null,8,Yn)):(0,i.kq)("",!0)]),(0,i._)("div",{id:"active_number_input",innerHTML:s.activeItem.number},null,8,Kn),(0,i._)("div",null,[s.isNext?((0,i.wg)(),(0,i.iD)("a",{key:0,class:"move",onClick:t[1]||(t[1]=function(e){return s.changeActiveNumber("next")}),innerHTML:s.words.next_num},null,8,Jn)):(0,i.kq)("",!0)])]),(0,i._)("form",{class:"small_form",onSubmit:t[11]||(t[11]=(0,r.iM)((function(e){return s.submit()}),["prevent"]))},[(0,i._)("div",Xn,[(0,i._)("div",{class:(0,v.C_)("option "+("1"==s.activeItem.sim?"active":"")),onClick:t[3]||(t[3]=function(e){return s.activeItem.sim=1})},[(0,i._)("div",{class:"small_title bold",innerHTML:s.words.i_have_sim},null,8,er),tr,"1"==s.activeItem.sim?((0,i.wg)(),(0,i.iD)("div",nr,[(0,i.wy)((0,i._)("input",{"input-mode":"numeric",oninput:"javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",maxlength:"6",type:"text",id:"iccid","onUpdate:modelValue":t[2]||(t[2]=function(e){return s.activeItem.iccid=e}),autocomplete:"off",required:""},null,512),[[r.nr,s.activeItem.iccid]]),(0,i._)("label",{for:"iccid",innerHTML:s.words.last_six_dig},null,8,rr)])):(0,i.kq)("",!0)],2),(0,i._)("div",{class:(0,v.C_)("option "+("0"==s.activeItem.sim?"active":"")),onClick:t[9]||(t[9]=function(e){return s.activeItem.sim=0})},[(0,i._)("div",{class:"small_title bold",innerHTML:s.words.delivery_guy},null,8,ir),or,"0"==s.activeItem.sim?((0,i.wg)(),(0,i.iD)("form",{key:0,onSubmit:t[8]||(t[8]=(0,r.iM)((function(e){return s.saveNumberInfo()}),["prevent"]))},[(0,i._)("div",{class:"small_title",innerHTML:s.words.whats_your_city},null,8,ar),(0,i._)("div",sr,[(0,i.wy)((0,i._)("input",{type:"text",id:"city","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.personalInfo.city=e}),autocomplete:"off",required:""},null,512),[[r.nr,a.personalInfo.city]]),(0,i._)("label",{for:"city",innerHTML:s.words.city},null,8,ur)]),(0,i._)("div",{class:"small_title",innerHTML:s.words.whats_your_address},null,8,dr),(0,i._)("div",lr,[(0,i._)("div",cr,[(0,i.wy)((0,i._)("input",{type:"text",id:"street","onUpdate:modelValue":t[5]||(t[5]=function(e){return a.personalInfo.street=e}),autocomplete:"off",required:""},null,512),[[r.nr,a.personalInfo.street]]),(0,i._)("label",{for:"street",innerHTML:s.words.street},null,8,mr)]),(0,i._)("div",pr,[(0,i.wy)((0,i._)("input",{type:"number",id:"house_num","onUpdate:modelValue":t[6]||(t[6]=function(e){return a.personalInfo.house_num=e}),autocomplete:"off",required:""},null,512),[[r.nr,a.personalInfo.house_num]]),(0,i._)("label",{for:"house_num",innerHTML:s.words.house_num},null,8,_r)])]),(0,i._)("div",fr,[(0,i.wy)((0,i._)("input",{inputmode:"numeric",type:"text",id:"zip","onUpdate:modelValue":t[7]||(t[7]=function(e){return a.personalInfo.zip=e}),autocomplete:"off",required:""},null,512),[[r.nr,a.personalInfo.zip]]),(0,i._)("label",{for:"zip",innerHTML:s.words.zip},null,8,hr)]),(0,i._)("div",vr,[(0,i._)("input",{type:"submit",class:"btn",value:s.words.send_to_mail},null,8,br)])],32)):(0,i.kq)("",!0)],2)]),(0,i._)("div",{class:"small_title bold",innerHTML:s.words.chnage_user_name},null,8,wr),(0,i._)("div",gr,[(0,i.wy)((0,i._)("input",{type:"text",id:"user_name","onUpdate:modelValue":t[10]||(t[10]=function(e){return s.activeItem.user_name=e}),autocomplete:"off",required:""},null,512),[[r.nr,s.activeItem.user_name]]),(0,i._)("label",{for:"house_num",innerHTML:s.words.my_user_name},null,8,yr)]),"0"!=s.activeItem.sim?((0,i.wg)(),(0,i.iD)("div",Lr,[(0,i._)("input",{type:"submit",class:"btn",value:s.words.procced},null,8,kr)])):(0,i.kq)("",!0)],32)])}const Tr={components:{},props:{step:{required:!0,type:Number},allowMobility:{required:!0,type:Boolean},numbers:{required:!0,type:Array}},data:function(){return{phoneNumber:"",activeNumber:0,personalInfo:{},userLoged:!0}},mounted:function(){this.loadInfo()},computed:{words:function(){return this.$store.state.words},isNext:function(){return!!this.numbers[this.activeItem.id+1]&&this.numbers[this.activeItem.id+1].id},isPrev:function(){return!!this.numbers[this.activeItem.id-1]&&this.numbers[this.activeItem.id-1].id},activeItem:function(){var e={};for(var t in this.numbers)this.numbers[t].id==this.activeNumber&&(e=this.numbers[t]);return e}},methods:{loadInfo:function(){var e=this;this.api({action:"cart/load_info",data:{},onComplete:function(t){e.personalInfo=t.data}}),this.$store.commit("setIsLoading",{isLoading:!1})},submit:function(){"new"==this.activeItem.purchase_type||this.allowMobility?this.saveNumberInfo():this.$emit("sendOtpForMobility",this.activeItem.number)},saveNumberInfo:function(){var e=this,t={},n="new"==this.activeItem.purchase_type?"כן":"לא";if(t.number=this.activeItem.number,t.user_name=this.activeItem.user_name,t.id=this.activeItem.item_id,t.iccid=this.activeItem.iccid,this.$store.commit("setIsLoading",{isLoading:!0}),0==t.is_esim)this.api({action:"send_email_to_support",data:{form:t,personalInfo:this.personalInfo,is_new:n}},(function(t){if(t.data.error&&""!=t.data.error)e.activateError(t.data.error);else{var n="הסים נשלח אלייך בהצלחה ויגיע תוך 5 ימי עסקים";e.activatePromptExit(n,"success")}})),this.activeNumber=!1,this.$store.commit("setIsLoading",{isLoading:!1});else{if(t.iccid.length>0&&t.iccid.length<6)return this.activateError(this.words.iccid_short),this.activeNumber=!1,!1;this.api({action:"api/prov_create_user",data:t},(function(n){n.data.error&&""!=n.data.error?e.activateError(n.data.error):(t.domain_user_id=n.data.data.id,e.api({action:"api/prov_create_mobile",data:t},(function(t){if(t.data.error&&""!=t.data.error)e.activateError(t.data.error);else{var n="";for(var r in t.data.data.notes)n+=" "+t.data.data.notes[r];e.$store.commit("setIsLoading",{isLoading:!1}),e.$swal({icon:"success",text:n,showCloseButton:!1,showCancelButton:!1,allowOutsideClick:!1,showConfirmButton:!0,confirmButtonText:"אוקיי"}).then((function(){e.$router.go()}))}}))),e.$store.commit("setIsLoading",{isLoading:!1})}))}},changeActiveNumber:function(e){this.activeNumber="next"==e?this.isNext:this.isPrev}}},Ir=(0,c.Z)(Tr,[["render",Mr]]),Hr=Ir;var Nr={class:"form"},Cr=["innerHTML"],Sr=["innerHTML"],qr=["innerHTML"],$r={class:"form-item"},Dr=["innerHTML"],xr={class:"btn_wrapper"},Or=["value"],zr={class:"btn_wrapper"},Ur=["value"];function Pr(e,t,n,o,a,s){var u=(0,i.up)("qrcode-vue");return(0,i.wg)(),(0,i.iD)("div",Nr,[(0,i._)("h2",{class:"title",innerHTML:e.$store.state.words.activate_esim_scan},null,8,Cr),(0,i.Wm)(u,{value:n.qrCode,size:a.qrSize,level:"H",id:"qrCode"},null,8,["value","size"]),(0,i._)("a",{class:"btn",onClick:t[0]||(t[0]=function(){return s.downloadImage&&s.downloadImage.apply(s,arguments)}),innerHTML:e.$store.state.words.activate_esim_download},null,8,Sr),(0,i._)("h2",{class:"title",innerHTML:e.$store.state.words.activate_esim_send_to_mail},null,8,qr),(0,i._)("form",{class:"form_steps",onSubmit:t[2]||(t[2]=(0,r.iM)((function(e){return s.sendQrToMail()}),["prevent"])),style:{"margin-bottom":"50px"}},[(0,i._)("div",$r,[(0,i.wy)((0,i._)("input",{inputmode:"email",type:"text",id:"email","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.email=e}),autocomplete:"off",required:""},null,512),[[r.nr,a.email]]),(0,i._)("label",{for:"otp",innerHTML:e.$store.state.words.my_email_is},null,8,Dr)]),(0,i._)("div",xr,[(0,i._)("input",{type:"submit",class:"btn",value:e.$store.state.words.send_to_mail},null,8,Or)])],32),(0,i._)("div",zr,[(0,i._)("input",{type:"submit",onClick:t[3]||(t[3]=function(){return s.finish&&s.finish.apply(s,arguments)}),class:"btn",value:e.$store.state.words.finish},null,8,Ur)])])}var Vr=n(9356),Ar=n.n(Vr);const jr={components:{QrcodeVue:Ar()},props:{qrCode:{required:!0,type:Text}},data:function(){return{phoneNumber:"",email:"",qrSize:300,qrValue:"LPA:1$smdp.io$4K-1M7L9N-1FGG29N",activeNumber:0,userLoged:!0}},mounted:function(){},computed:{words:function(){return this.$store.state.words}},methods:{downloadImage:function(){var e=document.createElement("a");e.download="QrCode.png",e.href=document.getElementById("qrCode").toDataURL(),e.click()},sendQrToMail:function(){var e=this;this.api({action:"sendQrToMail",data:{qr:this.qrCode,email:this.email}},(function(t){t.data.error&&""!=t.data.error?e.activateError(t.data.error):e.activateSuccess(e.$store.state.words.send_succesfuly)}))},finish:function(){var e=this;this.api({action:"api/get_open_order_numbers",data:{}},(function(t){t.data.error&&""!=t.data.error?e.activateError(t.data.error):t.data.length>0?e.$emit("loadData"):(e.activateSuccess(e.$store.state.words.finish_all),e.api({action:"cart/finish"}),setTimeout((function(){document.location="/"}),3e3))}))}}},Br=(0,c.Z)(jr,[["render",Pr]]),Er=Br;var Fr={class:"form"},Zr=["innerHTML"],Wr={class:"form-item"},Gr=["innerHTML"],Rr={class:"btn_wrapper"},Qr=["disabled"],Yr={key:1},Kr=["value"];function Jr(e,t,n,o,a,s){var u=(0,i.up)("vue-countdown");return(0,i.wg)(),(0,i.iD)("div",Fr,[(0,i._)("h2",{class:"title",innerHTML:e.$store.state.words.insert_otp},null,8,Zr),(0,i._)("form",{class:"form_steps",onSubmit:t[2]||(t[2]=(0,r.iM)((function(e){return s.validateOtp()}),["prevent"]))},[(0,i._)("div",Wr,[(0,i.wy)((0,i._)("input",{"input-mode":"numeric",type:"number",id:"otp","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.otp=e}),autocomplete:"off",required:""},null,512),[[r.nr,a.otp]]),(0,i._)("label",{for:"otp",innerHTML:e.$store.state.words.my_otp_is},null,8,Gr)]),(0,i._)("div",Rr,[(0,i._)("button",{type:"button",class:"btn btn-primary",disabled:a.allowCodeSend,onClick:t[1]||(t[1]=function(){return s.startCountdown&&s.startCountdown.apply(s,arguments)})},[a.allowCodeSend?((0,i.wg)(),(0,i.j4)(u,{key:0,time:6e4,onEnd:s.onCountdownEnd},{default:(0,i.w5)((function(t){var n=t.totalSeconds;return[(0,i.Uk)((0,v.zw)(e.$store.state.words.send_more_code)+" "+(0,v.zw)(n),1)]})),_:1},8,["onEnd"])):((0,i.wg)(),(0,i.iD)("span",Yr,(0,v.zw)(e.$store.state.words.send_code),1))],8,Qr),(0,i._)("input",{type:"submit",class:"btn",value:s.words.procced},null,8,Kr)])],32)])}const Xr={components:{VueCountdown:fn.Z},props:{activeItem:{required:!0,type:Array},phoneNumber:{required:!0,type:Number}},data:function(){return{allowCodeSend:!0,otp:""}},mounted:function(){},computed:{words:function(){return this.$store.state.words}},methods:{startCountdown:function(){this.$emit("sendOtp"),this.allowCodeSend=!0},onCountdownEnd:function(){this.allowCodeSend=!1},validateOtp:function(){var e=this,t="";this.allow_code_send=!1,t=this.activeItem&&this.activeItem.number&&""!=this.activeItem.number.length?this.activeItem.number:this.phoneNumber,this.api({action:"api/validate_otp",data:{phone:t,code:this.otp}},(function(t){t.data.error&&""!=t.data.error?e.activateError(t.data.error):e.$emit("success")}))}}},ei=(0,c.Z)(Xr,[["render",Jr]]),ti=ei,ni={components:{activateNumber:Hr,sendOtp:Un,validateOtp:ti,activateQr:Er},data:function(){return{step:1,deletedPrice:0,phoneNumber:0,loaded:!1,cartOpen:!this.isMobile(),total:0,form:{},numbers:[],personalInfo:{},allowMobility:!1,numberOfSteps:5,qrCode:""}},mounted:function(){this.loadData()},computed:{words:function(){return this.$store.state.words}},methods:{successOtpSend:function(e){this.phoneNumber=e,this.step++},validateOtp:function(){this.loadData(),this.step=1},finishNumber:function(e){console.log(e),this.allowMobility=!1},loadData:function(){var e=this;this.$store.commit("setIsLoading",{isLoading:!0}),this.api({action:"cart/get_open_order_numbers"},(function(t){if(t.data.length>0){for(var n in console.log(t.data),t.data)t.data[n].sim=1,t.data[n].user_name="",t.data[n].iccid="";e.numbers=t.data}else e.$swal({icon:"info",title:e.$store.state.words.no_numbers_av,showDenyButton:!0,showCancelButton:!1,confirmButtonText:"הפעלה ממספר אחר",denyButtonText:"חזרה לדף הבית"}).then((function(t){t.isConfirmed?e.step=2:t.isDenied&&(document.location="/")}))})),this.loaded=!0},sendOtpForMobility:function(e){this.phoneNumber=e,this.step=2,this.allowMobility=!0},qrActivated:function(e){this.qrCode=e,this.step=4}}},ri=(0,c.Z)(ni,[["render",Wn]]),ii=ri;var oi=[{path:"/",name:"JoinUs",component:An},{path:"/Activate",name:"activate",component:ii}],ai=(0,h.p7)({history:(0,h.PO)("/joinus/"),base:"/joinus/",routes:oi});const si=ai;var ui=n(65);const di=(0,ui.MT)({state:{words:[],isLoading:!1},getters:{},mutations:{setWords:function(e,t){e.words=t.words},setIsLoading:function(e,t){e.isLoading=t.isLoading}},actions:{},modules:{}});var li=n(7749),ci=n(3494),mi=n(8539),pi=n(70),_i=n(6423),fi=n(7563),hi=n(1485),vi=n(6553),bi=n.n(vi);window.api_url="https://widely.co.il/api_vue/";var wi=(0,r.ri)({extends:p}).use(di).use(si);ci.vI.add(mi.I7k,mi.sq$,mi.NBC),wi.component("FontAwesomeIcon",li.GN),wi.use(_i.Z,pi.ZP),wi.use(fi.Z),wi.use(hi.Z),wi.use(bi()),wi.mixin(f),wi.mount("#app")}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,(()=>{n.amdO={}})(),(()=>{var e=[];n.O=(t,r,i,o)=>{if(!r){var a=1/0;for(l=0;l<e.length;l++){for(var[r,i,o]=e[l],s=!0,u=0;u<r.length;u++)(!1&o||a>=o)&&Object.keys(n.O).every((e=>n.O[e](r[u])))?r.splice(u--,1):(s=!1,o<a&&(a=o));if(s){e.splice(l--,1);var d=i();void 0!==d&&(t=d)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[r,i,o]}})(),(()=>{n.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return n.d(t,{a:t}),t}})(),(()=>{n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.hmd=e=>(e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e)})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{var e={143:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var i,o,[a,s,u]=r,d=0;if(a.some((t=>0!==e[t]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)var l=u(n)}for(t&&t(r);d<a.length;d++)o=a[d],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(l)},r=self["webpackChunkwidly"]=self["webpackChunkwidly"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[998],(()=>n(578)));r=n.O(r)})();
//# sourceMappingURL=app.d06be785.js.map